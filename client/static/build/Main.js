(function(){"use strict";function t(t){function r(r){return function(n){return t(r,n)}}return r.arity=2,r.func=t,r}function r(t){function r(r){return function(n){return function(e){return t(r,n,e)}}}return r.arity=3,r.func=t,r}function n(t){function r(r){return function(n){return function(e){return function(o){return t(r,n,e,o)}}}}return r.arity=4,r.func=t,r}function e(t){function r(r){return function(n){return function(e){return function(o){return function(c){return t(r,n,e,o,c)}}}}}return r.arity=5,r.func=t,r}function o(t){function r(r){return function(n){return function(e){return function(o){return function(c){return function(u){return t(r,n,e,o,c,u)}}}}}}return r.arity=6,r.func=t,r}function c(t){function r(r){return function(n){return function(e){return function(o){return function(c){return function(u){return function(i){return t(r,n,e,o,c,u,i)}}}}}}}return r.arity=7,r.func=t,r}function u(t){function r(r){return function(n){return function(e){return function(o){return function(c){return function(u){return function(i){return function(a){return t(r,n,e,o,c,u,i,a)}}}}}}}}return r.arity=8,r.func=t,r}function i(t){function r(r){return function(n){return function(e){return function(o){return function(c){return function(u){return function(i){return function(a){return function(_){return t(r,n,e,o,c,u,i,a,_)}}}}}}}}}return r.arity=9,r.func=t,r}function a(t,r,n){return 2===t.arity?t.func(r,n):t(r)(n)}function _(t,r,n,e){return 3===t.arity?t.func(r,n,e):t(r)(n)(e)}function f(t,r,n,e,o){return 4===t.arity?t.func(r,n,e,o):t(r)(n)(e)(o)}function l(t,r,n,e,o,c){return 5===t.arity?t.func(r,n,e,o,c):t(r)(n)(e)(o)(c)}function s(t,r,n,e,o,c,u){return 6===t.arity?t.func(r,n,e,o,c,u):t(r)(n)(e)(o)(c)(u)}function d(t,r,n,e,o,c,u,i){return 7===t.arity?t.func(r,n,e,o,c,u,i):t(r)(n)(e)(o)(c)(u)(i)}var p=function(){var e=Float32Array,c={};c._temp1=new e(3),c._temp2=new e(3),c._temp3=new e(3),e==Array?(c.x=[1,0,0],c.y=[0,1,0],c.z=[0,0,1],c.$=function(t,r,n){return[t,r,n]}):(c.x=new e([1,0,0]),c.y=new e([0,1,0]),c.z=new e([0,0,1]),c.$=function(t,r,n){return new e([t,r,n])}),c.u=c.x,c.v=c.y,c.getX=function(t){return t[0]},c.getY=function(t){return t[1]},c.getZ=function(t){return t[2]},c.setX=function(t,r){return new e([t,r[1],r[2]])},c.setY=function(t,r){return new e([r[0],t,r[2]])},c.setZ=function(t,r){return new e([r[0],r[1],t])},c.toTuple3=function(t){return{ctor:"_Tuple3",_0:t[0],_1:t[1],_2:t[2]}},c.fromTuple3=function(t){return new e([t._0,t._1,t._2])},c.toRecord3=function(t){return{_:{},x:t[0],y:t[1],z:t[2]}},c.fromRecord3=function(t){return new e([t.x,t.y,t.z])},c.add=function(t,r,n){return void 0==n&&(n=new e(3)),n[0]=t[0]+r[0],n[1]=t[1]+r[1],n[2]=t[2]+r[2],n},c.sub=function(t,r,n){return void 0==n&&(n=new e(3)),n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],n},c.neg=function(t,r){return void 0==r&&(r=new e(3)),r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r},c.direction=function(t,r,n){return void 0==n&&(n=new e(3)),c.normalize(c.sub(t,r,n),n)},c.length=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},c.lengthSquared=function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},c.distance=function(t,r){var n=t[0]-r[0],e=t[1]-r[1],o=t[2]-r[2];return Math.sqrt(n*n+e*e+o*o)},c.distanceSquared=function(t,r){var n=t[0]-r[0],e=t[1]-r[1],o=t[2]-r[2];return n*n+e*e+o*o},c.normalize=function(t,r){void 0==r&&(r=new e(3));var n=1/c.length(t);return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r},c.scale=function(t,r,n){return void 0==n&&(n=new e(3)),n[0]=r[0]*t,n[1]=r[1]*t,n[2]=r[2]*t,n},c.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},c.cross=function(t,r,n){return void 0==n&&(n=new e(3)),n[0]=t[1]*r[2]-t[2]*r[1],n[1]=t[2]*r[0]-t[0]*r[2],n[2]=t[0]*r[1]-t[1]*r[0],n},c.mul4x4=function(t,r,n){var o,u=c._temp1;return void 0==n&&(n=new e(3)),u[0]=t[3],u[1]=t[7],u[2]=t[11],o=c.dot(r,u)+t[15],u[0]=t[0],u[1]=t[4],u[2]=t[8],n[0]=(c.dot(r,u)+t[12])/o,u[0]=t[1],u[1]=t[5],u[2]=t[9],n[1]=(c.dot(r,u)+t[13])/o,u[0]=t[2],u[1]=t[6],u[2]=t[10],n[2]=(c.dot(r,u)+t[14])/o,n};var u={};return u._temp1=new e(16),u._temp2=new e(16),e==Array?(u.I=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u.$=function(t,r,n,e,o,c,u,i,a,_,f,l,s,d,p,v){return[t,r,n,e,o,c,u,i,a,_,f,l,s,d,p,v]}):(u.I=new e([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),u.$=function(t,r,n,o,c,u,i,a,_,f,l,s,d,p,v,h){return new e([t,r,n,o,c,u,i,a,_,f,l,s,d,p,v,h])}),u.identity=u.I,u.fromList=function(t){var r=B.toArray(t);return 16===r.length?C(u.$(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])):N},u.topLeft3x3=function(t,r){return void 0==r&&(r=new e(9)),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[4],r[4]=t[5],r[5]=t[6],r[6]=t[8],r[7]=t[9],r[8]=t[10],r},u.inverse=function(t,r){void 0==r&&(r=new e(16)),r[0]=t[5]*t[10]*t[15]-t[5]*t[11]*t[14]-t[9]*t[6]*t[15]+t[9]*t[7]*t[14]+t[13]*t[6]*t[11]-t[13]*t[7]*t[10],r[4]=-t[4]*t[10]*t[15]+t[4]*t[11]*t[14]+t[8]*t[6]*t[15]-t[8]*t[7]*t[14]-t[12]*t[6]*t[11]+t[12]*t[7]*t[10],r[8]=t[4]*t[9]*t[15]-t[4]*t[11]*t[13]-t[8]*t[5]*t[15]+t[8]*t[7]*t[13]+t[12]*t[5]*t[11]-t[12]*t[7]*t[9],r[12]=-t[4]*t[9]*t[14]+t[4]*t[10]*t[13]+t[8]*t[5]*t[14]-t[8]*t[6]*t[13]-t[12]*t[5]*t[10]+t[12]*t[6]*t[9],r[1]=-t[1]*t[10]*t[15]+t[1]*t[11]*t[14]+t[9]*t[2]*t[15]-t[9]*t[3]*t[14]-t[13]*t[2]*t[11]+t[13]*t[3]*t[10],r[5]=t[0]*t[10]*t[15]-t[0]*t[11]*t[14]-t[8]*t[2]*t[15]+t[8]*t[3]*t[14]+t[12]*t[2]*t[11]-t[12]*t[3]*t[10],r[9]=-t[0]*t[9]*t[15]+t[0]*t[11]*t[13]+t[8]*t[1]*t[15]-t[8]*t[3]*t[13]-t[12]*t[1]*t[11]+t[12]*t[3]*t[9],r[13]=t[0]*t[9]*t[14]-t[0]*t[10]*t[13]-t[8]*t[1]*t[14]+t[8]*t[2]*t[13]+t[12]*t[1]*t[10]-t[12]*t[2]*t[9],r[2]=t[1]*t[6]*t[15]-t[1]*t[7]*t[14]-t[5]*t[2]*t[15]+t[5]*t[3]*t[14]+t[13]*t[2]*t[7]-t[13]*t[3]*t[6],r[6]=-t[0]*t[6]*t[15]+t[0]*t[7]*t[14]+t[4]*t[2]*t[15]-t[4]*t[3]*t[14]-t[12]*t[2]*t[7]+t[12]*t[3]*t[6],r[10]=t[0]*t[5]*t[15]-t[0]*t[7]*t[13]-t[4]*t[1]*t[15]+t[4]*t[3]*t[13]+t[12]*t[1]*t[7]-t[12]*t[3]*t[5],r[14]=-t[0]*t[5]*t[14]+t[0]*t[6]*t[13]+t[4]*t[1]*t[14]-t[4]*t[2]*t[13]-t[12]*t[1]*t[6]+t[12]*t[2]*t[5],r[3]=-t[1]*t[6]*t[11]+t[1]*t[7]*t[10]+t[5]*t[2]*t[11]-t[5]*t[3]*t[10]-t[9]*t[2]*t[7]+t[9]*t[3]*t[6],r[7]=t[0]*t[6]*t[11]-t[0]*t[7]*t[10]-t[4]*t[2]*t[11]+t[4]*t[3]*t[10]+t[8]*t[2]*t[7]-t[8]*t[3]*t[6],r[11]=-t[0]*t[5]*t[11]+t[0]*t[7]*t[9]+t[4]*t[1]*t[11]-t[4]*t[3]*t[9]-t[8]*t[1]*t[7]+t[8]*t[3]*t[5],r[15]=t[0]*t[5]*t[10]-t[0]*t[6]*t[9]-t[4]*t[1]*t[10]+t[4]*t[2]*t[9]+t[8]*t[1]*t[6]-t[8]*t[2]*t[5];var n=t[0]*r[0]+t[1]*r[4]+t[2]*r[8]+t[3]*r[12];if(0===n)return N;n=1/n;for(var o=0;o<16;o+=1)r[o]=r[o]*n;return C(r)},u.inverseOrthonormal=function(t,r){void 0==r&&(r=new e(16)),u.transpose(t,r);var n=[t[12],t[13],t[14]];return r[3]=r[7]=r[11]=0,r[12]=-c.dot([r[0],r[4],r[8]],n),r[13]=-c.dot([r[1],r[5],r[9]],n),r[14]=-c.dot([r[2],r[6],r[10]],n),r},u.inverseTo3x3=function(t,r){void 0==r&&(r=new e(9));var n=t[10]*t[5]-t[6]*t[9],o=-t[10]*t[1]+t[2]*t[9],c=t[6]*t[1]-t[2]*t[5],u=-t[10]*t[4]+t[6]*t[8],i=t[10]*t[0]-t[2]*t[8],a=-t[6]*t[0]+t[2]*t[4],_=t[9]*t[4]-t[5]*t[8],f=-t[9]*t[0]+t[1]*t[8],l=t[5]*t[0]-t[1]*t[4],s=t[0]*n+t[1]*u+t[2]*_;if(0==s)throw"matrix not invertible";var d=1/s;return r[0]=d*n,r[1]=d*o,r[2]=d*c,r[3]=d*u,r[4]=d*i,r[5]=d*a,r[6]=d*_,r[7]=d*f,r[8]=d*l,r},u.makeFrustum=function(t,r,n,o,c,u,i){void 0==i&&(i=new e(16));return i[0]=2*c/(r-t),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*c/(o-n),i[6]=0,i[7]=0,i[8]=(r+t)/(r-t),i[9]=(o+n)/(o-n),i[10]=-(u+c)/(u-c),i[11]=-1,i[12]=0,i[13]=0,i[14]=-2*u*c/(u-c),i[15]=0,i},u.makePerspective=function(t,r,n,e,o){var c=n*Math.tan(t*Math.PI/360),i=-c,a=i*r,_=c*r;return u.makeFrustum(a,_,i,c,n,e,o)},u.makeOrtho=function(t,r,n,o,c,u,i){void 0==i&&(i=new e(16));return i[0]=2/(r-t),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(o-n),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=-2/(u-c),i[11]=0,i[12]=-(r+t)/(r-t),i[13]=-(o+n)/(o-n),i[14]=-(u+c)/(u-c),i[15]=1,i},u.makeOrtho2D=function(t,r,n,e,o){return u.makeOrtho(t,r,n,e,-1,1,o)},u.mul=function(t,r,n){void 0==n&&(n=new e(16));var o=t[0],c=t[1],u=t[2],i=t[3],a=t[4],_=t[5],f=t[6],l=t[7],s=t[8],d=t[9],p=t[10],v=t[11],h=t[12],m=t[13],g=t[14],b=t[15],y=r[0],T=r[1],k=r[2],w=r[3],S=r[4],E=r[5],R=r[6],A=r[7],N=r[8],C=r[9],x=r[10],B=r[11],L=r[12],O=r[13],M=r[14],P=r[15];return n[0]=o*y+a*T+s*k+h*w,n[1]=c*y+_*T+d*k+m*w,n[2]=u*y+f*T+p*k+g*w,n[3]=i*y+l*T+v*k+b*w,n[4]=o*S+a*E+s*R+h*A,n[5]=c*S+_*E+d*R+m*A,n[6]=u*S+f*E+p*R+g*A,n[7]=i*S+l*E+v*R+b*A,n[8]=o*N+a*C+s*x+h*B,n[9]=c*N+_*C+d*x+m*B,n[10]=u*N+f*C+p*x+g*B,n[11]=i*N+l*C+v*x+b*B,n[12]=o*L+a*O+s*M+h*P,n[13]=c*L+_*O+d*M+m*P,n[14]=u*L+f*O+p*M+g*P,n[15]=i*L+l*O+v*M+b*P,n},u.mulAffine=function(t,r,n){void 0==n&&(n=new e(16));var o=t[0],c=t[1],u=t[2],i=t[4],a=t[5],_=t[6],f=t[8],l=t[9],s=t[10],d=t[12],p=t[13],v=t[14],h=r[0],m=r[1],g=r[2],b=r[4],y=r[5],T=r[6],k=r[8],w=r[9],S=r[10],E=r[12],R=r[13],A=r[14];return n[0]=o*h+i*m+f*g,n[1]=c*h+a*m+l*g,n[2]=u*h+_*m+s*g,n[3]=0,n[4]=o*b+i*y+f*T,n[5]=c*b+a*y+l*T,n[6]=u*b+_*y+s*T,n[7]=0,n[8]=o*k+i*w+f*S,n[9]=c*k+a*w+l*S,n[10]=u*k+_*w+s*S,n[11]=0,n[12]=o*E+i*R+f*A+d,n[13]=c*E+a*R+l*A+p,n[14]=u*E+_*R+s*A+v,n[15]=1,n},u.makeRotate=function(t,r,n){void 0==n&&(n=new e(16));var o=(r=c.normalize(r,c._temp1))[0],u=r[1],i=r[2],a=Math.cos(t),_=1-a,f=Math.sin(t);return n[0]=o*o*_+a,n[1]=u*o*_+i*f,n[2]=i*o*_-u*f,n[3]=0,n[4]=o*u*_-i*f,n[5]=u*u*_+a,n[6]=u*i*_+o*f,n[7]=0,n[8]=o*i*_+u*f,n[9]=u*i*_-o*f,n[10]=i*i*_+a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n},u.rotate=function(t,r,n,o){void 0==o&&(o=new e(16));var c=r[0],u=r[1],i=r[2],a=Math.sqrt(c*c+u*u+i*i),_=c,f=u,l=i;if(1!=a){var s=1/a;_*=s,f*=s,l*=s}var d=Math.cos(t),p=1-d,v=Math.sin(t),h=_*v,m=f*v,g=l*v,b=_*f*p,y=_*l*p,T=f*l*p,k=n[0],w=n[1],S=n[2],E=n[3],R=n[4],A=n[5],N=n[6],C=n[7],x=n[8],B=n[9],L=n[10],O=n[11],M=_*_*p+d,P=b+g,I=y-m,F=b-g,D=f*f*p+d,z=T+h,U=y+m,q=T-h,G=l*l*p+d;return o[0]=k*M+R*P+x*I,o[1]=w*M+A*P+B*I,o[2]=S*M+N*P+L*I,o[3]=E*M+C*P+O*I,o[4]=k*F+R*D+x*z,o[5]=w*F+A*D+B*z,o[6]=S*F+N*D+L*z,o[7]=E*F+C*D+O*z,o[8]=k*U+R*q+x*G,o[9]=w*U+A*q+B*G,o[10]=S*U+N*q+L*G,o[11]=E*U+C*q+O*G,o!=n&&(o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o},u.makeScale3=function(t,r,n,o){return void 0==o&&(o=new e(16)),o[0]=t,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=r,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=n,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},u.makeScale1=function(t,r){return u.makeScale3(t,t,t,r)},u.makeScale=function(t,r){return u.makeScale3(t[0],t[1],t[2],r)},u.scale3=function(t,r,n,o,c){return c==o?(o[0]*=t,o[1]*=t,o[2]*=t,o[3]*=t,o[4]*=r,o[5]*=r,o[6]*=r,o[7]*=r,o[8]*=n,o[9]*=n,o[10]*=n,o[11]*=n,o):(void 0==c&&(c=new e(16)),c[0]=o[0]*t,c[1]=o[1]*t,c[2]=o[2]*t,c[3]=o[3]*t,c[4]=o[4]*r,c[5]=o[5]*r,c[6]=o[6]*r,c[7]=o[7]*r,c[8]=o[8]*n,c[9]=o[9]*n,c[10]=o[10]*n,c[11]=o[11]*n,c[12]=o[12],c[13]=o[13],c[14]=o[14],c[15]=o[15],c)},u.scale1=function(t,r,n){return n==r?(r[0]*=t,r[1]*=t,r[2]*=t,r[3]*=t,r[4]*=t,r[5]*=t,r[6]*=t,r[7]*=t,r[8]*=t,r[9]*=t,r[10]*=t,r[11]*=t,r):(void 0==n&&(n=new e(16)),n[0]=r[0]*t,n[1]=r[1]*t,n[2]=r[2]*t,n[3]=r[3]*t,n[4]=r[4]*t,n[5]=r[5]*t,n[6]=r[6]*t,n[7]=r[7]*t,n[8]=r[8]*t,n[9]=r[9]*t,n[10]=r[10]*t,n[11]=r[11]*t,n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],n)},u.scale=function(t,r,n){var o=t[0],c=t[1],u=t[2];return n==r?(r[0]*=o,r[1]*=o,r[2]*=o,r[3]*=o,r[4]*=c,r[5]*=c,r[6]*=c,r[7]*=c,r[8]*=u,r[9]*=u,r[10]*=u,r[11]*=u,r):(void 0==n&&(n=new e(16)),n[0]=r[0]*o,n[1]=r[1]*o,n[2]=r[2]*o,n[3]=r[3]*o,n[4]=r[4]*c,n[5]=r[5]*c,n[6]=r[6]*c,n[7]=r[7]*c,n[8]=r[8]*u,n[9]=r[9]*u,n[10]=r[10]*u,n[11]=r[11]*u,n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],n)},u.makeTranslate3=function(t,r,n,o){return void 0==o&&(o=new e(16)),o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=t,o[13]=r,o[14]=n,o[15]=1,o},u.makeTranslate1=function(t,r){return u.makeTranslate3(t,t,t,r)},u.makeTranslate=function(t,r){return u.makeTranslate3(t[0],t[1],t[2],r)},u.translate3Self=function(t,r,n,e){return e[12]+=e[0]*t+e[4]*r+e[8]*n,e[13]+=e[1]*t+e[5]*r+e[9]*n,e[14]+=e[2]*t+e[6]*r+e[10]*n,e[15]+=e[3]*t+e[7]*r+e[11]*n,e},u.translate3=function(t,r,n,o,c){if(c==o)return o[12]+=o[0]*t+o[4]*r+o[8]*n,o[13]+=o[1]*t+o[5]*r+o[9]*n,o[14]+=o[2]*t+o[6]*r+o[10]*n,o[15]+=o[3]*t+o[7]*r+o[11]*n,o;void 0==c&&(c=new e(16));var u=o[0],i=o[1],a=o[2],_=o[3],f=o[4],l=o[5],s=o[6],d=o[7],p=o[8],v=o[9],h=o[10],m=o[11];return c[0]=u,c[1]=i,c[2]=a,c[3]=_,c[4]=f,c[5]=l,c[6]=s,c[7]=d,c[8]=p,c[9]=v,c[10]=h,c[11]=m,c[12]=u*t+f*r+p*n+o[12],c[13]=i*t+l*r+v*n+o[13],c[14]=a*t+s*r+h*n+o[14],c[15]=_*t+d*r+m*n+o[15],c},u.translate1=function(t,r,n){return u.translate3(t,t,t,r,n)},u.translateSelf=function(t,r){var n=t[0],e=t[1],o=t[2];return r[12]+=r[0]*n+r[4]*e+r[8]*o,r[13]+=r[1]*n+r[5]*e+r[9]*o,r[14]+=r[2]*n+r[6]*e+r[10]*o,r[15]+=r[3]*n+r[7]*e+r[11]*o,r},u.translate=function(t,r,n){var o=t[0],c=t[1],u=t[2];if(n==r)return r[12]+=r[0]*o+r[4]*c+r[8]*u,r[13]+=r[1]*o+r[5]*c+r[9]*u,r[14]+=r[2]*o+r[6]*c+r[10]*u,r[15]+=r[3]*o+r[7]*c+r[11]*u,r;void 0==n&&(n=new e(16));var i=r[0],a=r[1],_=r[2],f=r[3],l=r[4],s=r[5],d=r[6],p=r[7],v=r[8],h=r[9],m=r[10],g=r[11];return n[0]=i,n[1]=a,n[2]=_,n[3]=f,n[4]=l,n[5]=s,n[6]=d,n[7]=p,n[8]=v,n[9]=h,n[10]=m,n[11]=g,n[12]=i*o+l*c+v*u+r[12],n[13]=a*o+s*c+h*u+r[13],n[14]=_*o+d*c+m*u+r[14],n[15]=f*o+p*c+g*u+r[15],n},u.makeLookAt=function(t,r,n,o){var i=c.direction(t,r,c._temp1),a=c.normalize(c.cross(n,i,c._temp2),c._temp2),_=c.normalize(c.cross(i,a,c._temp3),c._temp3),f=u._temp1,l=u._temp2;return f[0]=a[0],f[1]=_[0],f[2]=i[0],f[3]=0,f[4]=a[1],f[5]=_[1],f[6]=i[1],f[7]=0,f[8]=a[2],f[9]=_[2],f[10]=i[2],f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=-t[0],l[13]=-t[1],l[14]=-t[2],l[15]=1,void 0==o&&(o=new e(16)),u.mul(f,l,o)},u.transposeSelf=function(t){var r=t[1];return t[1]=t[4],t[4]=r,r=t[2],t[2]=t[8],t[8]=r,r=t[3],t[3]=t[12],t[12]=r,r=t[6],t[6]=t[9],t[9]=r,r=t[7],t[7]=t[13],t[13]=r,r=t[11],t[11]=t[14],t[14]=r,t},u.transpose=function(t,r){if(t==r){var n=0;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,t}return void 0==r&&(r=new e(16)),r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15],r},u.transformPoint=function(t,r,n){void 0==n&&(n=new e(3));var o=r[0],c=r[1],u=r[2];n[0]=t[0]*o+t[4]*c+t[8]*u+t[12],n[1]=t[1]*o+t[5]*c+t[9]*u+t[13],n[2]=t[2]*o+t[6]*c+t[10]*u+t[14];var i=t[3]*o+t[7]*c+t[11]*u+t[15];return 1!=i&&(n[0]/=i,n[1]/=i,n[2]/=i),n},u.transformLine=function(t,r,n){void 0==n&&(n=new e(3));var o=r[0],c=r[1],u=r[2];n[0]=t[0]*o+t[4]*c+t[8]*u,n[1]=t[1]*o+t[5]*c+t[9]*u,n[2]=t[2]*o+t[6]*c+t[10]*u;var i=t[3]*o+t[7]*c+t[11]*u;return 1!=i&&(n[0]/=i,n[1]/=i,n[2]/=i),n},u.transformPointAffine=function(t,r,n){void 0==n&&(n=new e(3));var o=r[0],c=r[1],u=r[2];return n[0]=t[0]*o+t[4]*c+t[8]*u+t[12],n[1]=t[1]*o+t[5]*c+t[9]*u+t[13],n[2]=t[2]*o+t[6]*c+t[10]*u+t[14],n},u.transformLineAffine=function(t,r,n){void 0==n&&(n=new e(3));var o=r[0],c=r[1],u=r[2];return n[0]=t[0]*o+t[4]*c+t[8]*u,n[1]=t[1]*o+t[5]*c+t[9]*u,n[2]=t[2]*o+t[6]*c+t[10]*u,n},u.makeBasis=function(t,r,n){var o=new e(16);return o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=0,o[4]=r[0],o[5]=r[1],o[6]=r[2],o[7]=0,o[8]=n[0],o[9]=n[1],o[10]=n[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},{vec3:r(c.$),v3getX:c.getX,v3getY:c.getY,v3getZ:c.getZ,v3setX:t(c.setX),v3setY:t(c.setY),v3setZ:t(c.setZ),toTuple3:c.toTuple3,toRecord3:c.toRecord3,fromTuple3:c.fromTuple3,fromRecord3:c.fromRecord3,v3add:t(c.add),v3sub:t(c.sub),v3neg:c.neg,v3direction:t(c.direction),v3length:c.length,v3lengthSquared:c.lengthSquared,v3distance:t(c.distance),v3distanceSquared:t(c.distanceSquared),v3normalize:c.normalize,v3scale:t(c.scale),v3dot:t(c.dot),v3cross:t(c.cross),v3mul4x4:t(c.mul4x4),m4x4fromList:u.fromList,m4x4identity:u.identity,m4x4topLeft3x3:u.topLeft3x3,m4x4inverse:u.inverse,m4x4inverseOrthonormal:u.inverseOrthonormal,m4x4inverseTo3x3:u.inverseTo3x3,m4x4makeFrustum:o(u.makeFrustum),m4x4makePerspective:n(u.makePerspective),m4x4makeOrtho:o(u.makeOrtho),m4x4makeOrtho2D:n(u.makeOrtho2D),m4x4mul:t(u.mul),m4x4Affine:t(u.mulAffine),m4x4makeRotate:t(u.makeRotate),m4x4rotate:r(u.rotate),m4x4makeScale3:r(u.makeScale3),m4x4makeScale1:u.makeScale1,m4x4makeScale:u.makeScale,m4x4scale3:n(u.scale3),m4x4scale:t(u.scale),m4x4makeTranslate3:r(u.makeTranslate3),m4x4makeTranslate:u.makeTranslate,m4x4translate3:n(u.translate3),m4x4translate:t(u.translate),m4x4makeLookAt:r(u.makeLookAt),m4x4transpose:u.transpose,m4x4transformPoint:t(u.transformPoint),m4x4makeBasis:r(u.makeBasis)}}(),v=function(){function n(t,r){return t/r|0}function e(t,r){return t%r}function o(t,r){if(0===r)throw new Error("Cannot perform mod 0. Division by zero error.");var n=t%r,e=0===t?0:r>0?t>=0?n:n+r:-o(-t,-r);return e===r?0:e}function c(t,r){return Math.log(r)/Math.log(t)}function u(t){return-t}function i(t){return t<0?-t:t}function a(t,r){return h.cmp(t,r)<0?t:r}function _(t,r){return h.cmp(t,r)>0?t:r}function f(t,r,n){return h.cmp(n,t)<0?t:h.cmp(n,r)>0?r:n}function l(t,r){return{ctor:T[h.cmp(t,r)+1]}}function s(t,r){return t!==r}function d(t){return!t}function p(t){return t===1/0||t===-1/0}function v(t){return 0|t}function m(t){return t*Math.PI/180}function g(t){return 2*Math.PI*t}function b(t){var r=t._0,n=t._1;return h.Tuple2(r*Math.cos(n),r*Math.sin(n))}function y(t){var r=t._0,n=t._1;return h.Tuple2(Math.sqrt(r*r+n*n),Math.atan2(n,r))}var T=["LT","EQ","GT"];return{div:t(n),rem:t(e),mod:t(o),pi:Math.PI,e:Math.E,cos:Math.cos,sin:Math.sin,tan:Math.tan,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:t(Math.atan2),degrees:m,turns:g,fromPolar:b,toPolar:y,sqrt:Math.sqrt,logBase:t(c),negate:u,abs:i,min:t(a),max:t(_),clamp:r(f),compare:t(l),xor:t(s),not:d,truncate:v,ceiling:Math.ceil,floor:Math.floor,round:Math.round,toFloat:function(t){return t},isNaN:isNaN,isInfinite:p}}(),h=function(){function r(t,r){for(var e,o=[],c=n(t,r,0,o);c&&(e=o.pop());)c=n(e.x,e.y,0,o);return c}function n(t,r,e,o){if(e>100)return o.push({x:t,y:r}),!0;if(t===r)return!0;if("object"!=typeof t){if("function"==typeof t)throw new Error('Trying to use `(==)` on functions. There is no way to know if functions are "the same" in the Elm sense. Read more about this at http://package.elm-lang.org/packages/elm-lang/core/latest/Basics#== which describes why it is this way and what the better version will look like.');return!1}if(null===t||null===r)return!1;if(t instanceof Date)return t.getTime()===r.getTime();if(!("ctor"in t)){for(var c in t)if(!n(t[c],r[c],e+1,o))return!1;return!0}if("RBNode_elm_builtin"!==t.ctor&&"RBEmpty_elm_builtin"!==t.ctor||(t=Xt(t),r=Xt(r)),"Set_elm_builtin"===t.ctor&&(t=_elm_lang$core$Set$toList(t),r=_elm_lang$core$Set$toList(r)),"::"===t.ctor){for(var u=t,i=r;"::"===u.ctor&&"::"===i.ctor;){if(!n(u._0,i._0,e+1,o))return!1;u=u._1,i=i._1}return u.ctor===i.ctor}if("_Array"===t.ctor){var a=xt.toJSArray(t),_=xt.toJSArray(r);if(a.length!==_.length)return!1;for(var f=0;f<a.length;f++)if(!n(a[f],_[f],e+1,o))return!1;return!0}if(!n(t.ctor,r.ctor,e+1,o))return!1;for(var c in t)if(!n(t[c],r[c],e+1,o))return!1;return!0}function e(t,r){if("object"!=typeof t)return t===r?h:t<r?v:m;if(t instanceof String){var n=t.valueOf(),o=r.valueOf();return n===o?h:n<o?v:m}if("::"===t.ctor||"[]"===t.ctor){for(;"::"===t.ctor&&"::"===r.ctor;){if((c=e(t._0,r._0))!==h)return c;t=t._1,r=r._1}return t.ctor===r.ctor?h:"[]"===t.ctor?v:m}if("_Tuple"===t.ctor.slice(0,6)){var c,u=t.ctor.slice(6)-0;if(0===u)return h;if(u>=1){if((c=e(t._0,r._0))!==h)return c;if(u>=2){if((c=e(t._1,r._1))!==h)return c;if(u>=3){if((c=e(t._2,r._2))!==h)return c;if(u>=4){if((c=e(t._3,r._3))!==h)return c;if(u>=5){if((c=e(t._4,r._4))!==h)return c;if(u>=6){if((c=e(t._5,r._5))!==h)return c;if(u>=7)throw new Error("Comparison error: cannot compare tuples with more than 6 elements.")}}}}}}return h}throw new Error("Comparison error: comparison is only defined on ints, floats, times, chars, strings, lists of comparable values, and tuples of comparable values.")}function o(t,r){return{ctor:"_Tuple2",_0:t,_1:r}}function c(t){return new String(t)}function u(t){return g++}function i(t,r){var n={};for(var e in t)n[e]=t[e];for(var e in r)n[e]=r[e];return n}function a(t,r){return{ctor:"::",_0:t,_1:r}}function _(t,r){if("string"==typeof t)return t+r;if("[]"===t.ctor)return r;var n=a(t._0,b),e=n;for(t=t._1;"[]"!==t.ctor;)e._1=a(t._0,b),t=t._1,e=e._1;return e._1=r,n}function f(t,r){return function(n){throw new Error("Ran into a `Debug.crash` in module `"+t+"` "+s(r)+"\nThe message provided by the code author is:\n\n    "+n)}}function l(t,r,n){return function(e){throw new Error("Ran into a `Debug.crash` in module `"+t+"`\n\nThis was caused by the `case` expression "+s(r)+".\nOne of the branches ended with a crash and the following value got through:\n\n    "+d(n)+"\n\nThe message provided by the code author is:\n\n    "+e)}}function s(t){return t.start.line==t.end.line?"on line "+t.start.line:"between lines "+t.start.line+" and "+t.end.line}function d(t){var r=typeof t;if("function"===r)return"<function>";if("boolean"===r)return t?"True":"False";if("number"===r)return t+"";if(t instanceof String)return"'"+p(t,!0)+"'";if("string"===r)return'"'+p(t,!1)+'"';if(null===t)return"null";if("object"===r&&"ctor"in t){var n=t.ctor.substring(0,5);if("_Tupl"===n){i=[];for(var e in t)"ctor"!==e&&i.push(d(t[e]));return"("+i.join(",")+")"}if("_Task"===n)return"<task>";if("_Array"===t.ctor)return"Array.fromList "+d(Bt(t));if("<decoder>"===t.ctor)return"<decoder>";if("_Process"===t.ctor)return"<process:"+t.id+">";if("::"===t.ctor){i="["+d(t._0);for(t=t._1;"::"===t.ctor;)i+=","+d(t._0),t=t._1;return i+"]"}if("[]"===t.ctor)return"[]";if("Set_elm_builtin"===t.ctor)return"Set.fromList "+d(_elm_lang$core$Set$toList(t));if("RBNode_elm_builtin"===t.ctor||"RBEmpty_elm_builtin"===t.ctor)return"Dict.fromList "+d(Xt(t));i="";for(var o in t)if("ctor"!==o){var c=d(t[o]),u=c[0];i+=" "+("{"===u||"("===u||"<"===u||'"'===u||c.indexOf(" ")<0?c:"("+c+")")}return t.ctor+i}if("object"===r){if(t instanceof Date)return"<"+t.toString()+">";if(t.elm_web_socket)return"<websocket>";var i=[];for(var e in t)i.push(e+" = "+d(t[e]));return 0===i.length?"{}":"{ "+i.join(", ")+" }"}return"<internal structure>"}function p(t,r){var n=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return r?n.replace(/\'/g,"\\'"):n.replace(/\"/g,'\\"')}var v=-1,h=0,m=1,g=0,b={ctor:"[]"};return{eq:r,cmp:e,Tuple0:{ctor:"_Tuple0"},Tuple2:o,chr:c,update:i,guid:u,append:t(_),crash:f,crashCase:l,toString:d}}(),m=(t(function(t,r){var n=r;return a(t,n._0,n._1)}),r(function(t,r,n){return t({ctor:"_Tuple2",_0:r,_1:n})}),r(function(t,r,n){return a(t,n,r)}),t(function(t,r){return t})),g=function(t){return t},b=b||{};b["<|"]=t(function(t,r){return t(r)}),(b=b||{})["|>"]=t(function(t,r){return r(t)}),(b=b||{})[">>"]=r(function(t,r,n){return r(t(n))}),(b=b||{})["<<"]=r(function(t,r,n){return t(r(n))}),(b=b||{})["++"]=h.append;var y=h.toString,T=(v.isInfinite,v.isNaN,v.toFloat),k=(v.ceiling,v.floor,v.truncate,v.round);v.not,v.xor;(b=b||{})["||"]=v.or,(b=b||{})["&&"]=v.and;var w=v.max,S=(v.min,v.compare);(b=b||{})[">="]=v.ge,(b=b||{})["<="]=v.le,(b=b||{})[">"]=v.gt,(b=b||{})["<"]=v.lt,(b=b||{})["/="]=v.neq,(b=b||{})["=="]=v.eq;v.e,v.pi,v.clamp,v.logBase;var E=v.abs;v.negate,v.sqrt,v.atan2,v.atan,v.asin,v.acos,v.tan,v.sin,v.cos;(b=b||{})["^"]=v.exp,(b=b||{})["%"]=v.mod;v.rem;(b=b||{})["//"]=v.div,(b=b||{})["/"]=v.floatDiv,(b=b||{})["*"]=v.mul,(b=b||{})["-"]=v.sub,(b=b||{})["+"]=v.add;v.toPolar,v.fromPolar,v.turns,v.degrees;var R=function(){function r(t,r){var n=t+": "+h.toString(r),e=e||{};return e.stdout?e.stdout.write(n):console.log(n),r}function n(t){throw new Error(t)}return{crash:n,log:t(r)}}(),A=(R.crash,R.log,t(function(t,r){var n=r;return"Just"===n.ctor?n._0:t})),N={ctor:"Nothing"},C=(t(function(t,r){var n=r;return"Just"===n.ctor?t(n._0):N}),function(t){return{ctor:"Just",_0:t}}),x=t(function(t,r){var n=r;return"Just"===n.ctor?C(t(n._0)):N}),B=(r(function(t,r,n){var e={ctor:"_Tuple2",_0:r,_1:n};return"_Tuple2"===e.ctor&&"Just"===e._0.ctor&&"Just"===e._1.ctor?C(a(t,e._0._0,e._1._0)):N}),n(function(t,r,n,e){var o={ctor:"_Tuple3",_0:r,_1:n,_2:e};return"_Tuple3"===o.ctor&&"Just"===o._0.ctor&&"Just"===o._1.ctor&&"Just"===o._2.ctor?C(_(t,o._0._0,o._1._0,o._2._0)):N}),e(function(t,r,n,e,o){var c={ctor:"_Tuple4",_0:r,_1:n,_2:e,_3:o};return"_Tuple4"===c.ctor&&"Just"===c._0.ctor&&"Just"===c._1.ctor&&"Just"===c._2.ctor&&"Just"===c._3.ctor?C(f(t,c._0._0,c._1._0,c._2._0,c._3._0)):N}),o(function(t,r,n,e,o,c){var u={ctor:"_Tuple5",_0:r,_1:n,_2:e,_3:o,_4:c};return"_Tuple5"===u.ctor&&"Just"===u._0.ctor&&"Just"===u._1.ctor&&"Just"===u._2.ctor&&"Just"===u._3.ctor&&"Just"===u._4.ctor?C(l(t,u._0._0,u._1._0,u._2._0,u._3._0,u._4._0)):N}),function(){function c(t,r){return{ctor:"::",_0:t,_1:r}}function u(t){for(var r=y,n=t.length;n--;)r=c(t[n],r);return r}function i(t){for(var r=[];"[]"!==t.ctor;)r.push(t._0),t=t._1;return r}function s(t,r,n){for(var e=i(n),o=r,c=e.length;c--;)o=a(t,e[c],o);return o}function d(t,r,n){for(var e=[];"[]"!==r.ctor&&"[]"!==n.ctor;)e.push(a(t,r._0,n._0)),r=r._1,n=n._1;return u(e)}function p(t,r,n,e){for(var o=[];"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==e.ctor;)o.push(_(t,r._0,n._0,e._0)),r=r._1,n=n._1,e=e._1;return u(o)}function v(t,r,n,e,o){for(var c=[];"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==e.ctor&&"[]"!==o.ctor;)c.push(f(t,r._0,n._0,e._0,o._0)),r=r._1,n=n._1,e=e._1,o=o._1;return u(c)}function m(t,r,n,e,o,c){for(var i=[];"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==e.ctor&&"[]"!==o.ctor&&"[]"!==c.ctor;)i.push(l(t,r._0,n._0,e._0,o._0,c._0)),r=r._1,n=n._1,e=e._1,o=o._1,c=c._1;return u(i)}function g(t,r){return u(i(r).sort(function(r,n){return h.cmp(t(r),t(n))}))}function b(t,r){return u(i(r).sort(function(r,n){var e=t(r)(n).ctor;return"EQ"===e?0:"LT"===e?-1:1}))}var y={ctor:"[]"};return{Nil:y,Cons:c,cons:t(c),toArray:i,fromArray:u,foldr:r(s),map2:r(d),map3:n(p),map4:e(v),map5:o(m),sortBy:t(g),sortWith:t(b)}}()),L=(B.sortWith,B.sortBy,t(function(t,r){for(;;){if(h.cmp(t,0)<1)return r;var n=r;if("[]"===n.ctor)return r;t=t-1,r=n._1}})),O=(B.map5,B.map4,B.map3,B.map2),M=t(function(t,r){for(;;){var n=r;if("[]"===n.ctor)return!1;if(t(n._0))return!0;t=t,r=n._1}}),P=(t(function(t,r){return!a(M,function(r){return!t(r)},r)}),B.foldr),I=r(function(t,r,n){for(;;){var e=n;if("[]"===e.ctor)return r;var o=t,c=a(t,e._0,r);t=o,r=c,n=e._1}}),F=function(r){return _(I,t(function(t,r){return r+1}),0,r)},D=function(r){return _(I,t(function(t,r){return t+r}),0,r)},z=t(function(t,r){return a(M,function(r){return h.eq(r,t)},r)}),U=function(t){var r=t;return"::"===r.ctor?C(r._1):N},q=function(t){var r=t;return"::"===r.ctor?C(r._0):N},G=G||{};G["::"]=B.cons;var J=t(function(r,n){return _(P,t(function(t,n){return{ctor:"::",_0:r(t),_1:n}}),{ctor:"[]"},n)}),W=t(function(r,n){var e=t(function(t,n){return r(t)?{ctor:"::",_0:t,_1:n}:n});return _(P,e,{ctor:"[]"},n)}),V=r(function(t,r,n){var e=t(r);return"Just"===e.ctor?{ctor:"::",_0:e._0,_1:n}:n}),H=(t(function(t,r){return _(P,V(t),{ctor:"[]"},r)}),function(r){return _(I,t(function(t,r){return{ctor:"::",_0:t,_1:r}}),{ctor:"[]"},r)}),Y=(r(function(r,n,e){var o=t(function(t,n){var e=n;return"::"===e.ctor?{ctor:"::",_0:a(r,t,e._0),_1:n}:{ctor:"[]"}});return H(_(I,o,{ctor:"::",_0:n,_1:{ctor:"[]"}},e))}),t(function(r,n){return"[]"===n.ctor?r:_(P,t(function(t,r){return{ctor:"::",_0:t,_1:r}}),n,r)})),j=function(t){return _(P,Y,{ctor:"[]"},t)},X=(t(function(t,r){return j(a(J,t,r))}),t(function(r,n){var e=t(function(t,n){var e=n,o=e._0,c=e._1;return r(t)?{ctor:"_Tuple2",_0:{ctor:"::",_0:t,_1:o},_1:c}:{ctor:"_Tuple2",_0:o,_1:{ctor:"::",_0:t,_1:c}}});return _(P,e,{ctor:"_Tuple2",_0:{ctor:"[]"},_1:{ctor:"[]"}},n)}),t(function(r,n){var e=n;if("[]"===e.ctor)return{ctor:"[]"};var o=t(function(t,n){return{ctor:"::",_0:r,_1:{ctor:"::",_0:t,_1:n}}}),c=_(P,o,{ctor:"[]"},e._1);return{ctor:"::",_0:e._0,_1:c}}),r(function(t,r,n){for(;;){if(h.cmp(t,0)<1)return n;var e=r;if("[]"===e.ctor)return n;t=t-1,r=e._1,n={ctor:"::",_0:e._0,_1:n}}})),K=t(function(t,r){return H(_(X,t,r,{ctor:"[]"}))}),$=r(function(t,r,n){if(h.cmp(r,0)<1)return{ctor:"[]"};var e={ctor:"_Tuple2",_0:r,_1:n};t:do{r:do{if("_Tuple2"!==e.ctor)break t;if("[]"===e._1.ctor)return n;if("::"!==e._1._1.ctor){if(1===e._0)break r;break t}switch(e._0){case 1:break r;case 2:return{ctor:"::",_0:e._1._0,_1:{ctor:"::",_0:e._1._1._0,_1:{ctor:"[]"}}};case 3:if("::"===e._1._1._1.ctor)return{ctor:"::",_0:e._1._0,_1:{ctor:"::",_0:e._1._1._0,_1:{ctor:"::",_0:e._1._1._1._0,_1:{ctor:"[]"}}}};break t;default:if("::"===e._1._1._1.ctor&&"::"===e._1._1._1._1.ctor){var o=e._1._1._1._0,c=e._1._1._0,u=e._1._0,i=e._1._1._1._1._0,f=e._1._1._1._1._1;return h.cmp(t,1e3)>0?{ctor:"::",_0:u,_1:{ctor:"::",_0:c,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:i,_1:a(K,r-4,f)}}}}:{ctor:"::",_0:u,_1:{ctor:"::",_0:c,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:i,_1:_($,t+1,r-4,f)}}}}}break t}}while(!1);return{ctor:"::",_0:e._1._0,_1:{ctor:"[]"}}}while(!1);return n}),Q=(t(function(t,r){return _($,0,t,r)}),r(function(t,r,n){for(;;){if(h.cmp(r,0)<1)return t;t={ctor:"::",_0:n,_1:t},r=r-1,n=n}})),Z=(t(function(t,r){return _(Q,{ctor:"[]"},t,r)}),r(function(t,r,n){for(;;){if(!(h.cmp(t,r)<1))return n;var e={ctor:"::",_0:r,_1:n};t=t,r=r-1,n=e}})),tt=t(function(t,r){return _(Z,t,r,{ctor:"[]"})}),rt=t(function(t,r){return _(O,t,a(tt,0,F(r)-1),r)}),nt=(t(function(t,r){var n=r;return"Ok"===n.ctor?n._0:t}),function(t){return{ctor:"Err",_0:t}}),et=(t(function(t,r){var n=r;return"Ok"===n.ctor?t(n._0):nt(n._0)}),function(t){return{ctor:"Ok",_0:t}}),ot=(t(function(t,r){var n=r;return"Ok"===n.ctor?et(t(n._0)):nt(n._0)}),r(function(t,r,n){var e={ctor:"_Tuple2",_0:r,_1:n};return"Ok"===e._0.ctor?"Ok"===e._1.ctor?et(a(t,e._0._0,e._1._0)):nt(e._1._0):nt(e._0._0)}),n(function(t,r,n,e){var o={ctor:"_Tuple3",_0:r,_1:n,_2:e};return"Ok"===o._0.ctor?"Ok"===o._1.ctor?"Ok"===o._2.ctor?et(_(t,o._0._0,o._1._0,o._2._0)):nt(o._2._0):nt(o._1._0):nt(o._0._0)}),e(function(t,r,n,e,o){var c={ctor:"_Tuple4",_0:r,_1:n,_2:e,_3:o};return"Ok"===c._0.ctor?"Ok"===c._1.ctor?"Ok"===c._2.ctor?"Ok"===c._3.ctor?et(f(t,c._0._0,c._1._0,c._2._0,c._3._0)):nt(c._3._0):nt(c._2._0):nt(c._1._0):nt(c._0._0)}),o(function(t,r,n,e,o,c){var u={ctor:"_Tuple5",_0:r,_1:n,_2:e,_3:o,_4:c};return"Ok"===u._0.ctor?"Ok"===u._1.ctor?"Ok"===u._2.ctor?"Ok"===u._3.ctor?"Ok"===u._4.ctor?et(l(t,u._0._0,u._1._0,u._2._0,u._3._0,u._4._0)):nt(u._4._0):nt(u._3._0):nt(u._2._0):nt(u._1._0):nt(u._0._0)}),t(function(t,r){var n=r;return"Ok"===n.ctor?et(n._0):nt(t(n._0))}),t(function(t,r){var n=r;return"Just"===n.ctor?et(n._0):nt(t)}),function(){function n(t){return 0===t.length}function e(t,r){return t+r}function o(t){var r=t[0];return r?C(h.Tuple2(h.chr(r),t.slice(1))):N}function c(t,r){return t+r}function u(t){return B.toArray(t).join("")}function i(t){return t.length}function _(t,r){for(var n=r.split(""),e=n.length;e--;)n[e]=t(h.chr(n[e]));return n.join("")}function f(t,r){return r.split("").map(h.chr).filter(t).join("")}function l(t){return t.split("").reverse().join("")}function s(t,r,n){for(var e=n.length,o=0;o<e;++o)r=a(t,h.chr(n[o]),r);return r}function d(t,r,n){for(var e=n.length;e--;)r=a(t,h.chr(n[e]),r);return r}function p(t,r){return B.fromArray(r.split(t))}function v(t,r){return B.toArray(r).join(t)}function m(t,r){for(var n="";t>0;)1&t&&(n+=r),t>>=1,r+=r;return n}function g(t,r,n){return n.slice(t,r)}function b(t,r){return t<1?"":r.slice(0,t)}function y(t,r){return t<1?"":r.slice(-t)}function T(t,r){return t<1?r:r.slice(t)}function k(t,r){return t<1?r:r.slice(0,-t)}function w(t,r,n){var e=(t-n.length)/2;return m(Math.ceil(e),r)+n+m(0|e,r)}function S(t,r,n){return n+m(t-n.length,r)}function E(t,r,n){return m(t-n.length,r)+n}function R(t){return t.trim()}function A(t){return t.replace(/^\s+/,"")}function x(t){return t.replace(/\s+$/,"")}function L(t){return B.fromArray(t.trim().split(/\s+/g))}function O(t){return B.fromArray(t.split(/\r\n|\r|\n/g))}function M(t){return t.toUpperCase()}function P(t){return t.toLowerCase()}function I(t,r){for(var n=r.length;n--;)if(t(h.chr(r[n])))return!0;return!1}function F(t,r){for(var n=r.length;n--;)if(!t(h.chr(r[n])))return!1;return!0}function D(t,r){return r.indexOf(t)>-1}function z(t,r){return 0===r.indexOf(t)}function U(t,r){return r.length>=t.length&&r.lastIndexOf(t)===r.length-t.length}function q(t,r){var n=t.length;if(n<1)return B.Nil;for(var e=0,o=[];(e=r.indexOf(t,e))>-1;)o.push(e),e+=n;return B.fromArray(o)}function G(t){var r=t.length;if(0===r)return J(t);var n=t[0];if("0"===n&&"x"===t[1]){for(e=2;e<r;++e)if(!("0"<=(n=t[e])&&n<="9"||"A"<=n&&n<="F"||"a"<=n&&n<="f"))return J(t);return et(parseInt(t,16))}if(n>"9"||n<"0"&&"-"!==n&&"+"!==n)return J(t);for(var e=1;e<r;++e)if((n=t[e])<"0"||"9"<n)return J(t);return et(parseInt(t,10))}function J(t){return nt("could not convert string '"+t+"' to an Int")}function W(t){if(0===t.length||/[\sxbo]/.test(t))return V(t);var r=+t;return r===r?et(r):V(t)}function V(t){return nt("could not convert string '"+t+"' to a Float")}function H(t){return B.fromArray(t.split("").map(h.chr))}function Y(t){return B.toArray(t).join("")}return{isEmpty:n,cons:t(e),uncons:o,append:t(c),concat:u,length:i,map:t(_),filter:t(f),reverse:l,foldl:r(s),foldr:r(d),split:t(p),join:t(v),repeat:t(m),slice:r(g),left:t(b),right:t(y),dropLeft:t(T),dropRight:t(k),pad:r(w),padLeft:r(E),padRight:r(S),trim:R,trimLeft:A,trimRight:x,words:L,lines:O,toUpper:M,toLower:P,any:t(I),all:t(F),contains:t(D),startsWith:t(z),endsWith:t(U),indexes:t(q),toInt:G,toFloat:W,toList:H,fromList:Y}}()),ct=function(){return{fromCode:function(t){return h.chr(String.fromCharCode(t))},toCode:function(t){return t.charCodeAt(0)},toUpper:function(t){return h.chr(t.toUpperCase())},toLower:function(t){return h.chr(t.toLowerCase())},toLocaleUpper:function(t){return h.chr(t.toLocaleUpperCase())},toLocaleLower:function(t){return h.chr(t.toLocaleLowerCase())}}}(),ut=ct.fromCode,it=ct.toCode,at=(ct.toLocaleLower,ct.toLocaleUpper,ct.toLower,ct.toUpper,r(function(t,r,n){var e=it(n);return h.cmp(e,it(t))>-1&&h.cmp(e,it(r))<1})),_t=(a(at,h.chr("A"),h.chr("Z")),a(at,h.chr("a"),h.chr("z")),a(at,h.chr("0"),h.chr("9")),a(at,h.chr("0"),h.chr("7")),ot.fromList),ft=(ot.toList,ot.toFloat,ot.toInt),lt=(ot.indexes,ot.indexes,ot.endsWith,ot.startsWith),st=(ot.contains,ot.all,ot.any,ot.toLower,ot.toUpper,ot.lines,ot.words,ot.trimRight,ot.trimLeft,ot.trim,ot.padRight,ot.padLeft,ot.pad,ot.dropRight,ot.dropLeft),dt=(ot.right,ot.left,ot.slice,ot.repeat,ot.join,ot.split,ot.foldr,ot.foldl,ot.reverse,ot.filter,ot.map,ot.length),pt=ot.concat,vt=(ot.append,ot.uncons,ot.cons,ot.isEmpty),ht=(t(function(t,r){var n=r;return{ctor:"_Tuple2",_0:n._0,_1:t(n._1)}}),t(function(t,r){var n=r;return{ctor:"_Tuple2",_0:t(n._0),_1:n._1}}),function(t){return t._1}),mt=function(t){return t._0},gt=function(){function n(t){return function(r){return function(r,n){r.worker=function(r){if(void 0!==r)throw new Error("The `"+n+"` module does not need flags.\nCall "+n+".worker() with no arguments and you should be all set!");return u(t.init,t.update,t.subscriptions,o)}}}}function e(t){return function(r){return function(n,e){n.worker=function(n){if(void 0===r)throw new Error("Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+e+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.");var c=a(xn.run,r,n);if("Err"===c.ctor)throw new Error(e+".worker(...) was called with an unexpected argument.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+c._0);return u(t.init(c._0),t.update,t.subscriptions,o)}}}}function o(t,r){return function(t){}}function c(r){var n=m(B.Nil),e=h.Tuple2(h.Tuple0,n);return te({init:e,view:function(t){return main},update:t(function(t,r){return e}),subscriptions:function(t){return n}})}function u(t,r,n,e){function o(t,e){return bt.nativeBinding(function(o){var c=a(r,t,e);e=c._0,u(e);var i=c._1,f=n(e);b(_,i,f),o(bt.succeed(e))})}function c(t){bt.rawSend(f,t)}var u,_={},f=p(bt.nativeBinding(function(r){var o=t._0;u=e(c,o);var i=t._1,a=n(o);b(_,i,a),r(bt.succeed(o))}),o),l=i(_,c);return l?{ports:l}:{}}function i(t,r){var n;for(var e in N){var o=N[e];o.isForeign&&((n=n||{})[e]="cmd"===o.tag?E(e):A(e,r)),t[e]=l(o,r)}return n}function l(t,r){function n(t,r){if("self"===t.ctor)return _(u,e,t._0,r);var n=t._0;switch(o){case"cmd":return _(c,e,n.cmds,r);case"sub":return _(c,e,n.subs,r);case"fx":return f(c,e,n.cmds,n.subs,r)}}var e={main:r,self:void 0},o=t.tag,c=t.onEffects,u=t.onSelfMsg,i=p(t.init,n);return e.self=i,i}function s(t,r){return bt.nativeBinding(function(n){t.main(r),n(bt.succeed(h.Tuple0))})}function d(t,r){return a(bt.send,t.self,{ctor:"self",_0:r})}function p(t,r){function n(t){var o=bt.receive(function(n){return r(n,t)});return a(e,n,o)}var e=bt.andThen,o=a(e,n,t);return bt.rawSpawn(o)}function v(t){return function(r){return{type:"leaf",home:t,value:r}}}function m(t){return{type:"node",branches:t}}function g(t,r){return{type:"map",tagger:t,tree:r}}function b(t,r,n){var e={};y(!0,r,e,null),y(!1,n,e,null);for(var o in t){var c=o in e?e[o]:{cmds:B.Nil,subs:B.Nil};bt.rawSend(t[o],{ctor:"fx",_0:c})}}function y(t,r,n,e){switch(r.type){case"leaf":var o=r.home,c=T(t,o,e,r.value);return void(n[o]=k(t,c,n[o]));case"node":for(var u=r.branches;"[]"!==u.ctor;)y(t,u._0,n,e),u=u._1;return;case"map":return void y(t,r.tree,n,{tagger:r.tagger,rest:e})}}function T(t,r,n,e){function o(t){for(var r=n;r;)t=r.tagger(t),r=r.rest;return t}return a(t?N[r].cmdMap:N[r].subMap,o,e)}function k(t,r,n){return n=n||{cmds:B.Nil,subs:B.Nil},t?(n.cmds=B.Cons(r,n.cmds),n):(n.subs=B.Cons(r,n.subs),n)}function w(t){if(t in N)throw new Error("There can only be one port named `"+t+"`, but your program has multiple.")}function S(t,r){return w(t),N[t]={tag:"cmd",cmdMap:C,converter:r,isForeign:!0},v(t)}function E(t){function n(t,r,n){for(;"[]"!==r.ctor;){for(var e=c,o=u(r._0),a=0;a<e.length;a++)e[a](o);r=r._1}return i}function e(t){c.push(t)}function o(t){var r=(c=c.slice()).indexOf(t);r>=0&&c.splice(r,1)}var c=[],u=N[t].converter,i=bt.succeed(null);return N[t].init=i,N[t].onEffects=r(n),{subscribe:e,unsubscribe:o}}function R(t,r){return w(t),N[t]={tag:"sub",subMap:x,converter:r,isForeign:!0},v(t)}function A(t,n){function e(t,r,n){for(var e=o(t,r,n),c=0;c<f.length;c++)i(f[c]);return f=null,p=i,d=o,e}function o(t,r,n){return l=r,v}function c(t,r,n){return d(t,r,n)}function u(t){f.push(t)}function i(t){for(var r=l;"[]"!==r.ctor;)n(r._0(t)),r=r._1}function _(r){var n=a(Fn,s,r);if("Err"===n.ctor)throw new Error("Trying to send an unexpected type of value through port `"+t+"`:\n"+n._0);p(n._0)}var f=[],l=B.Nil,s=N[t].converter,d=e,p=u,v=bt.succeed(null);return N[t].init=v,N[t].onEffects=r(c),{send:_}}var N={},C=t(function(t,r){return r}),x=t(function(t,r){return function(n){return t(r(n))}});return{sendToApp:t(s),sendToSelf:t(d),effectManagers:N,outgoingPort:S,incomingPort:R,htmlToProgram:c,program:n,programWithFlags:e,initialize:u,leaf:v,batch:m,map:t(g)}}(),bt=function(){function r(t){return{ctor:"_Task_succeed",value:t}}function n(t){return{ctor:"_Task_fail",value:t}}function e(t){return{ctor:"_Task_nativeBinding",callback:t,cancel:null}}function o(t,r){return{ctor:"_Task_andThen",callback:t,task:r}}function c(t,r){return{ctor:"_Task_onError",callback:t,task:r}}function u(t){return{ctor:"_Task_receive",callback:t}}function i(t){var r={ctor:"_Process",id:h.guid(),root:t,stack:null,mailbox:[]};return p(r),r}function a(t){return e(function(n){n(r(i(t)))})}function _(t,r){t.mailbox.push(r),p(t)}function f(t,n){return e(function(e){_(t,n),e(r(h.Tuple0))})}function l(t){return e(function(n){var e=t.root;"_Task_nativeBinding"===e.ctor&&e.cancel&&e.cancel(),t.root=null,n(r(h.Tuple0))})}function s(t){return e(function(n){var e=setTimeout(function(){n(r(h.Tuple0))},t);return function(){clearTimeout(e)}})}function d(t,r){for(;t<m;){var n=r.root.ctor;if("_Task_succeed"!==n)if("_Task_fail"!==n)if("_Task_andThen"!==n)if("_Task_onError"!==n){if("_Task_nativeBinding"===n){r.root.cancel=r.root.callback(function(t){r.root=t,p(r)});break}if("_Task_receive"!==n)throw new Error(n);var e=r.mailbox;if(0===e.length)break;r.root=r.root.callback(e.shift()),++t}else r.stack={ctor:"_Task_onError",callback:r.root.callback,rest:r.stack},r.root=r.root.task,++t;else r.stack={ctor:"_Task_andThen",callback:r.root.callback,rest:r.stack},r.root=r.root.task,++t;else{for(;r.stack&&"_Task_andThen"===r.stack.ctor;)r.stack=r.stack.rest;if(null===r.stack)break;r.root=r.stack.callback(r.root.value),r.stack=r.stack.rest,++t}else{for(;r.stack&&"_Task_onError"===r.stack.ctor;)r.stack=r.stack.rest;if(null===r.stack)break;r.root=r.stack.callback(r.root.value),r.stack=r.stack.rest,++t}}return t<m?t+1:(p(r),t)}function p(t){b.push(t),g||(setTimeout(v,0),g=!0)}function v(){for(var t,r=0;r<m&&(t=b.shift());)t.root&&(r=d(r,t));t?setTimeout(v,0):g=!1}var m=1e4,g=!1,b=[];return{succeed:r,fail:n,nativeBinding:e,andThen:t(o),onError:t(c),receive:u,spawn:a,kill:l,sleep:s,send:t(f),rawSpawn:i,rawSend:_}}(),yt=gt.batch,Tt=yt({ctor:"[]"}),kt=kt||{};kt["!"]=t(function(t,r){return{ctor:"_Tuple2",_0:t,_1:yt(r)}});gt.map;var wt=gt.batch,St=wt({ctor:"[]"}),Et=(gt.map,bt.succeed,gt.sendToSelf),Rt=gt.sendToApp,At=(gt.programWithFlags,gt.program,p.v3cross,p.v3dot,p.v3scale,p.v3normalize,p.v3distanceSquared,p.v3distance,p.v3lengthSquared,p.v3length,p.v3direction,p.v3neg,p.v3sub,p.v3add,p.fromRecord3,p.fromTuple3,p.toRecord3,p.toTuple3,p.v3setZ,p.v3setY,p.v3setX,p.v3getZ,p.v3getY,p.v3getX,_(p.vec3,0,0,1),_(p.vec3,0,1,0),_(p.vec3,1,0,0),p.vec3),Nt=function(){var r=Float32Array,n={};return r==Array?n.$=function(t,r){return[t,r]}:n.$=function(t,n){return new r([t,n])},n.getX=function(t){return t[0]},n.getY=function(t){return t[1]},n.setX=function(t,n){return new r([t,n[1]])},n.setY=function(t,n){return new r([n[0],t])},n.toTuple=function(t){return{ctor:"_Tuple2",_0:t[0],_1:t[1]}},n.fromTuple=function(t){return new r([t._0,t._1])},n.toRecord=function(t){return{_:{},x:t[0],y:t[1]}},n.fromRecord=function(t){return new r([t.x,t.y])},n.add=function(t,n){var e=new r(2);return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},n.sub=function(t,n){var e=new r(2);return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},n.neg=function(t){var n=new r(2);return n[0]=-t[0],n[1]=-t[1],n},n.direction=function(t,e){var o=new r(2);o[0]=t[0]-e[0],o[1]=t[1]-e[1];var c=1/n.length(o);return o[0]=o[0]*c,o[1]=o[1]*c,o},n.length=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},n.lengthSquared=function(t){return t[0]*t[0]+t[1]*t[1]},n.distance=function(t,r){var n=t[0]-r[0],e=t[1]-r[1];return Math.sqrt(n*n+e*e)},n.distanceSquared=function(t,r){var n=t[0]-r[0],e=t[1]-r[1];return n*n+e*e},n.normalize=function(t){var e=new r(2),o=1/n.length(t);return e[0]=t[0]*o,e[1]=t[1]*o,e},n.scale=function(t,n){var e=new r(2);return e[0]=n[0]*t,e[1]=n[1]*t,e},n.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]},{vec2:t(n.$),getX:n.getX,getY:n.getY,setX:t(n.setX),setY:t(n.setY),toTuple:n.toTuple,toRecord:n.toRecord,fromTuple:n.fromTuple,fromRecord:n.fromRecord,add:t(n.add),sub:t(n.sub),neg:n.neg,direction:t(n.direction),length:n.length,lengthSquared:n.lengthSquared,distance:t(n.distance),distanceSquared:t(n.distanceSquared),normalize:n.normalize,scale:t(n.scale),dot:t(n.dot)}}(),Ct=(Nt.dot,Nt.scale,Nt.normalize,Nt.distanceSquared,Nt.distance,Nt.lengthSquared,Nt.length,Nt.direction,Nt.neg,Nt.sub,Nt.add,Nt.fromRecord,Nt.fromTuple,Nt.toRecord,Nt.toTuple,Nt.setY,Nt.setX,Nt.getY,Nt.getX,Nt.vec2),xt=function(){function n(t,r){if(t<0||t>=F(r))throw new Error("Index "+t+" is out of range. Check the length of your array first or use getMaybe or getWithDefault.");return e(t,r)}function e(t,r){for(var n=r.height;n>0;n--){for(var e=t>>5*n;r.lengths[e]<=t;)e++;e>0&&(t-=r.lengths[e-1]),r=r.table[e]}return r.table[t]}function o(t,r,n){return t<0||F(n)<=t?n:c(t,r,n)}function c(t,r,n){if(0===(n=I(n)).height)n.table[t]=r;else{var e=D(t,n);e>0&&(t-=n.lengths[e-1]),n.table[e]=c(t,r,n.table[e])}return n}function u(t,r){return t<=0?j:i(r,Math.floor(Math.log(t)/Math.log(H)),0,t)}function i(t,r,n,e){if(0===r){for(var o=new Array((e-n)%(H+1)),c=0;c<o.length;c++)o[c]=t(n+c);return{ctor:"_Array",height:0,table:o}}for(var u=Math.pow(H,r),o=new Array(Math.ceil((e-n)/u)),a=new Array(o.length),c=0;c<o.length;c++)o[c]=i(t,r-1,n+c*u,Math.min(n+(c+1)*u,e)),a[c]=F(o[c])+(c>0?a[c-1]:0);return{ctor:"_Array",height:r,table:o,lengths:a}}function _(t){if("[]"===t.ctor)return j;for(var r=new Array(H),n=[],e=0;"[]"!==t.ctor;)r[e]=t._0,t=t._1,++e===H&&(f(o={ctor:"_Array",height:0,table:r},n),r=new Array(H),e=0);if(e>0){var o={ctor:"_Array",height:0,table:r.splice(0,e)};f(o,n)}for(var c=0;c<n.length-1;c++)n[c].table.length>0&&f(n[c],n);var u=n[n.length-1];return u.height>0&&1===u.table.length?u.table[0]:u}function f(t,r){var n=t.height;if(r.length===n){var e={ctor:"_Array",height:n+1,table:[],lengths:[]};r.push(e)}r[n].table.push(t);var o=F(t);r[n].lengths.length>0&&(o+=r[n].lengths[r[n].lengths.length-1]),r[n].lengths.push(o),r[n].table.length===H&&(f(r[n],r),r[n]={ctor:"_Array",height:n+1,table:[],lengths:[]})}function l(t,r){var n=s(t,r);return null!==n?n:q(r,z(t,r.height))}function s(t,r){if(0===r.height)return r.table.length<H?((o={ctor:"_Array",height:0,table:r.table.slice()}).table.push(t),o):null;var n=s(t,M(r));if(null!==n)return(o=I(r)).table[o.table.length-1]=n,o.lengths[o.lengths.length-1]++,o;if(r.table.length<H){var e=z(t,r.height-1),o=I(r);return o.table.push(e),o.lengths.push(o.lengths[o.lengths.length-1]+F(e)),o}return null}function d(t){return p(B.Nil,t)}function p(t,r){for(var n=r.table.length-1;n>=0;n--)t=0===r.height?B.Cons(r.table[n],t):p(t,r.table[n]);return t}function v(t,r){var n={ctor:"_Array",height:r.height,table:new Array(r.table.length)};r.height>0&&(n.lengths=r.lengths);for(var e=0;e<r.table.length;e++)n.table[e]=0===r.height?t(r.table[e]):v(t,r.table[e]);return n}function h(t,r){return m(t,r,0)}function m(t,r,n){var e={ctor:"_Array",height:r.height,table:new Array(r.table.length)};r.height>0&&(e.lengths=r.lengths);for(var o=0;o<r.table.length;o++)e.table[o]=0===r.height?a(t,n+o,r.table[o]):m(t,r.table[o],0==o?n:n+r.lengths[o-1]);return e}function g(t,r,n){if(0===n.height)for(e=0;e<n.table.length;e++)r=a(t,n.table[e],r);else for(var e=0;e<n.table.length;e++)r=g(t,r,n.table[e]);return r}function b(t,r,n){if(0===n.height)for(e=n.table.length;e--;)r=a(t,n.table[e],r);else for(var e=n.table.length;e--;)r=b(t,r,n.table[e]);return r}function y(t,r,n){return t<0&&(t+=F(n)),r<0&&(r+=F(n)),k(t,T(r,n))}function T(t,r){if(t===F(r))return r;if(0===r.height)return(o={ctor:"_Array",height:0}).table=r.table.slice(0,t),o;var n=D(t,r),e=T(t-(n>0?r.lengths[n-1]:0),r.table[n]);if(0===n)return e;var o={ctor:"_Array",height:r.height,table:r.table.slice(0,n),lengths:r.lengths.slice(0,n)};return e.table.length>0&&(o.table[n]=e,o.lengths[n]=F(e)+(n>0?o.lengths[n-1]:0)),o}function k(t,r){if(0===t)return r;if(0===r.height)return(o={ctor:"_Array",height:0}).table=r.table.slice(t,r.table.length+1),o;var n=D(t,r),e=k(t-(n>0?r.lengths[n-1]:0),r.table[n]);if(n===r.table.length-1)return e;var o={ctor:"_Array",height:r.height,table:r.table.slice(n,r.table.length+1),lengths:new Array(r.table.length-n)};o.table[0]=e;for(var c=0,u=0;u<o.table.length;u++)c+=F(o.table[u]),o.lengths[u]=c;return o}function w(t,r){if(0===t.table.length)return r;if(0===r.table.length)return t;var n=S(t,r);if(n[0].table.length+n[1].table.length<=H){if(0===n[0].table.length)return n[1];if(0===n[1].table.length)return n[0];if(n[0].table=n[0].table.concat(n[1].table),n[0].height>0){for(var e=F(n[0]),o=0;o<n[1].lengths.length;o++)n[1].lengths[o]+=e;n[0].lengths=n[0].lengths.concat(n[1].lengths)}return n[0]}if(n[0].height>0){var c=A(t,r);c>Y&&(n=O(n[0],n[1],c))}return q(n[0],n[1])}function S(t,r){if(0===t.height&&0===r.height)return[t,r];if(1!==t.height||1!==r.height)if(t.height===r.height)t=I(t),r=I(r),E(t,(n=S(M(t),P(r)))[1]),R(r,n[0]);else if(t.height>r.height)E(t=I(t),(n=S(M(t),r))[0]),r=U(n[1],n[1].height+1);else{var n=S(t,P(r=I(r))),e=0===n[0].table.length?0:1,o=0===e?1:0;R(r,n[e]),t=U(n[o],n[o].height+1)}if(0===t.table.length||0===r.table.length)return[t,r];var c=A(t,r);return c<=Y?[t,r]:O(t,r,c)}function E(t,r){var n=t.table.length-1;t.table[n]=r,t.lengths[n]=F(r),t.lengths[n]+=n>0?t.lengths[n-1]:0}function R(t,r){if(r.table.length>0){t.table[0]=r,t.lengths[0]=F(r);for(var n=F(t.table[0]),e=1;e<t.lengths.length;e++)n+=F(t.table[e]),t.lengths[e]=n}else{t.table.shift();for(e=1;e<t.lengths.length;e++)t.lengths[e]=t.lengths[e]-t.lengths[0];t.lengths.shift()}}function A(t,r){for(var n=0,e=0;e<t.table.length;e++)n+=t.table[e].table.length;for(e=0;e<r.table.length;e++)n+=r.table[e].table.length;return t.table.length+r.table.length-(Math.floor((n-1)/H)+1)}function N(t,r,n){return n<t.length?t[n]:r[n-t.length]}function C(t,r,n,e){n<t.length?t[n]=e:r[n-t.length]=e}function x(t,r,n,e){C(t.table,r.table,n,e);var o=0===n||n===t.lengths.length?0:N(t.lengths,t.lengths,n-1);C(t.lengths,r.lengths,n,o+F(e))}function L(t,r){r<0&&(r=0);var n={ctor:"_Array",height:t,table:new Array(r)};return t>0&&(n.lengths=new Array(r)),n}function O(t,r,n){for(var e=L(t.height,Math.min(H,t.table.length+r.table.length-n)),o=L(t.height,e.table.length-(t.table.length+r.table.length-n)),c=0;N(t.table,r.table,c).table.length%H==0;)C(e.table,o.table,c,N(t.table,r.table,c)),C(e.lengths,o.lengths,c,N(t.lengths,r.lengths,c)),c++;for(var u=c,i=new L(t.height-1,0),a=0;c-u-(i.table.length>0?1:0)<n;){var _=N(t.table,r.table,c),f=Math.min(H-i.table.length,_.table.length);if(i.table=i.table.concat(_.table.slice(a,f)),i.height>0)for(var l=i.lengths.length,s=l;s<l+f-a;s++)i.lengths[s]=F(i.table[s]),i.lengths[s]+=s>0?i.lengths[s-1]:0;a+=f,_.table.length<=f&&(c++,a=0),i.table.length===H&&(x(e,o,u,i),i=L(t.height-1,0),u++)}for(i.table.length>0&&(x(e,o,u,i),u++);c<t.table.length+r.table.length;)x(e,o,u,N(t.table,r.table,c)),c++,u++;return[e,o]}function M(t){return t.table[t.table.length-1]}function P(t){return t.table[0]}function I(t){var r={ctor:"_Array",height:t.height,table:t.table.slice()};return t.height>0&&(r.lengths=t.lengths.slice()),r}function F(t){return 0===t.height?t.table.length:t.lengths[t.lengths.length-1]}function D(t,r){for(var n=t>>5*r.height;r.lengths[n]<=t;)n++;return n}function z(t,r){return 0===r?{ctor:"_Array",height:0,table:[t]}:{ctor:"_Array",height:r,table:[z(t,r-1)],lengths:[1]}}function U(t,r){return r===t.height?t:{ctor:"_Array",height:r,table:[U(t,r-1)],lengths:[F(t)]}}function q(t,r){return{ctor:"_Array",height:t.height+1,table:[t,r],lengths:[F(t),F(t)+F(r)]}}function G(t){var r=new Array(F(t));return J(r,0,t),r}function J(t,r,n){for(var e=0;e<n.table.length;e++)0===n.height?t[r+e]=n.table[e]:J(t,r+(0===e?0:n.lengths[e-1]),n.table[e])}function W(t){return 0===t.length?j:V(t,Math.floor(Math.log(t.length)/Math.log(H)),0,t.length)}function V(t,r,n,e){if(0===r)return{ctor:"_Array",height:0,table:t.slice(n,e)};for(var o=Math.pow(H,r),c=new Array(Math.ceil((e-n)/o)),u=new Array(c.length),i=0;i<c.length;i++)c[i]=V(t,r-1,n+i*o,Math.min(n+(i+1)*o,e)),u[i]=F(c[i])+(i>0?u[i-1]:0);return{ctor:"_Array",height:r,table:c,lengths:u}}var H=32,Y=2,j={ctor:"_Array",height:0,table:[]};return{empty:j,fromList:_,toList:d,initialize:t(u),append:t(w),push:t(l),slice:r(y),get:t(n),set:r(o),map:t(v),indexedMap:t(h),foldl:r(g),foldr:r(b),length:F,toJSArray:G,fromJSArray:W}}(),Bt=(xt.append,xt.length,xt.slice,xt.set,t(function(t,r){return h.cmp(0,t)<1&&h.cmp(t,xt.length(r))<0?C(a(xt.get,t,r)):N}),xt.push,xt.empty,t(function(r,n){var e=t(function(t,n){return r(t)?a(xt.push,t,n):n});return _(xt.foldl,e,xt.empty,n)}),xt.foldr,xt.foldl,xt.indexedMap,xt.map,xt.toList),Lt=(xt.fromList,xt.initialize),Ot=(t(function(t,r){return a(Lt,t,m(r))}),bt.onError),Mt=bt.andThen,Pt=t(function(t,r){var n=r;return bt.spawn(a(Mt,Rt(t),n._0))}),It=bt.fail,Ft=(t(function(t,r){return a(Ot,function(r){return It(t(r))},r)}),bt.succeed),Dt=t(function(t,r){return a(Mt,function(r){return Ft(t(r))},r)}),zt=r(function(t,r,n){return a(Mt,function(r){return a(Mt,function(n){return Ft(a(t,r,n))},n)},r)}),Ut=(n(function(t,r,n,e){return a(Mt,function(r){return a(Mt,function(n){return a(Mt,function(e){return Ft(_(t,r,n,e))},e)},n)},r)}),e(function(t,r,n,e,o){return a(Mt,function(r){return a(Mt,function(n){return a(Mt,function(e){return a(Mt,function(o){return Ft(f(t,r,n,e,o))},o)},e)},n)},r)}),o(function(t,r,n,e,o,c){return a(Mt,function(r){return a(Mt,function(n){return a(Mt,function(e){return a(Mt,function(o){return a(Mt,function(c){return Ft(l(t,r,n,e,o,c))},c)},o)},e)},n)},r)}),function(r){var n=r;return"[]"===n.ctor?Ft({ctor:"[]"}):_(zt,t(function(t,r){return{ctor:"::",_0:t,_1:r}}),n._0,Ut(n._1))}),qt=r(function(t,r,n){return a(Dt,function(t){return{ctor:"_Tuple0"}},Ut(a(J,Pt(t),r)))}),Gt=Ft({ctor:"_Tuple0"}),Jt=r(function(t,r,n){return Ft({ctor:"_Tuple0"})}),Wt=gt.leaf("Task"),Vt=function(t){return{ctor:"Perform",_0:t}},Ht=t(function(t,r){return Wt(Vt(a(Dt,t,r)))}),Yt=(t(function(t,r){return Wt(Vt(a(Ot,function(r){return Ft(t(nt(r)))},a(Mt,function(r){return Ft(t(et(r)))},r))))}),t(function(t,r){return Vt(a(Dt,t,r._0))}));gt.effectManagers.Task={pkg:"elm-lang/core",init:Gt,onEffects:qt,onSelfMsg:Jt,tag:"cmd",cmdMap:Yt};var jt=r(function(t,r,n){for(;;){var e=n;if("RBEmpty_elm_builtin"===e.ctor)return r;var o=t,c=_(t,e._1,e._2,_(jt,t,r,e._4));t=o,r=c,n=e._3}}),Xt=function(t){return _(jt,r(function(t,r,n){return{ctor:"::",_0:{ctor:"_Tuple2",_0:t,_1:r},_1:n}}),{ctor:"[]"},t)},Kt=r(function(t,r,n){for(;;){var e=n;if("RBEmpty_elm_builtin"===e.ctor)return r;var o=t,c=_(t,e._1,e._2,_(Kt,t,r,e._3));t=o,r=c,n=e._4}}),$t=o(function(n,e,o,c,u,i){var a=r(function(t,r,c){for(;;){var u=c,i=u._1,a=u._0,l=a;if("[]"===l.ctor)return{ctor:"_Tuple2",_0:a,_1:_(o,t,r,i)};var s=l._1,d=l._0._1,p=l._0._0;if(!(h.cmp(p,t)<0))return h.cmp(p,t)>0?{ctor:"_Tuple2",_0:a,_1:_(o,t,r,i)}:{ctor:"_Tuple2",_0:s,_1:f(e,p,d,r,i)};t=t,r=r,c={ctor:"_Tuple2",_0:s,_1:_(n,p,d,i)}}}),l=_(Kt,a,{ctor:"_Tuple2",_0:Xt(c),_1:i},u),s=l._0,d=l._1;return _(I,t(function(t,r){var e=t;return _(n,e._0,e._1,r)}),d,s)}),Qt=n(function(t,r,n,e){return R.crash(pt({ctor:"::",_0:"Internal red-black tree invariant violated, expected ",_1:{ctor:"::",_0:t,_1:{ctor:"::",_0:" and got ",_1:{ctor:"::",_0:y(r),_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:n,_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:e,_1:{ctor:"::",_0:"\nPlease report this bug to <https://github.com/elm-lang/core/issues>",_1:{ctor:"[]"}}}}}}}}}}))}),Zt=function(t){var r=t;t:do{if("RBNode_elm_builtin"===r.ctor){if("BBlack"===r._0.ctor)return!0;break t}if("LBBlack"===r._0.ctor)return!0;break t}while(!1);return!1},tr=t(function(t,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return t;t=a(tr,t+1,n._4),r=n._3}}),rr=t(function(t,r){t:for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return N;switch(a(S,t,n._1).ctor){case"LT":t=t,r=n._3;continue t;case"EQ":return C(n._2);default:t=t,r=n._4;continue t}}}),nr=t(function(t,r){return"Just"===a(rr,t,r).ctor}),er=r(function(t,r,n){for(;;){var e=n;if("RBEmpty_elm_builtin"===e.ctor)return{ctor:"_Tuple2",_0:t,_1:r};t=e._1,r=e._2,n=e._4}}),or={ctor:"NBlack"},cr={ctor:"BBlack"},ur={ctor:"Black"},ir=function(t){var r=t;if("RBNode_elm_builtin"===r.ctor){var n=r._0;return h.eq(n,ur)||h.eq(n,cr)}return!0},ar={ctor:"Red"},_r=function(t){switch(t.ctor){case"Black":return cr;case"Red":return ur;case"NBlack":return ar;default:return R.crash("Can't make a double black node more black!")}},fr=function(t){switch(t.ctor){case"BBlack":return ur;case"Black":return ar;case"Red":return or;default:return R.crash("Can't make a negative black node less black!")}},lr={ctor:"LBBlack"},sr={ctor:"LBlack"},dr=function(t){return{ctor:"RBEmpty_elm_builtin",_0:t}},pr=dr(sr),vr=e(function(t,r,n,e,o){return{ctor:"RBNode_elm_builtin",_0:t,_1:r,_2:n,_3:e,_4:o}}),hr=function(t){var r=t;return"RBNode_elm_builtin"===r.ctor&&"Red"===r._0.ctor?l(vr,ur,r._1,r._2,r._3,r._4):t},mr=function(t){var r=t;return"RBNode_elm_builtin"===r.ctor?l(vr,fr(r._0),r._1,r._2,r._3,r._4):dr(sr)},gr=function(t){return function(r){return function(n){return function(e){return function(o){return function(c){return function(u){return function(i){return function(a){return function(_){return function(f){return l(vr,fr(t),e,o,l(vr,ur,r,n,i,a),l(vr,ur,c,u,_,f))}}}}}}}}}}},br=function(t){var r=t;return"RBEmpty_elm_builtin"===r.ctor?dr(sr):l(vr,ur,r._1,r._2,r._3,r._4)},yr=function(t){var r=t;return"RBEmpty_elm_builtin"===r.ctor?R.crash("can't make a Leaf red"):l(vr,ar,r._1,r._2,r._3,r._4)},Tr=function(t){var r=t;t:do{r:do{n:do{e:do{o:do{c:do{u:do{if("RBNode_elm_builtin"!==r.ctor)break t;if("RBNode_elm_builtin"===r._3.ctor)if("RBNode_elm_builtin"===r._4.ctor)switch(r._3._0.ctor){case"Red":switch(r._4._0.ctor){case"Red":if("RBNode_elm_builtin"===r._3._3.ctor&&"Red"===r._3._3._0.ctor)break u;if("RBNode_elm_builtin"===r._3._4.ctor&&"Red"===r._3._4._0.ctor)break c;if("RBNode_elm_builtin"===r._4._3.ctor&&"Red"===r._4._3._0.ctor)break o;if("RBNode_elm_builtin"===r._4._4.ctor&&"Red"===r._4._4._0.ctor)break e;break t;case"NBlack":if("RBNode_elm_builtin"===r._3._3.ctor&&"Red"===r._3._3._0.ctor)break u;if("RBNode_elm_builtin"===r._3._4.ctor&&"Red"===r._3._4._0.ctor)break c;if("BBlack"===r._0.ctor&&"RBNode_elm_builtin"===r._4._3.ctor&&"Black"===r._4._3._0.ctor&&"RBNode_elm_builtin"===r._4._4.ctor&&"Black"===r._4._4._0.ctor)break n;break t;default:if("RBNode_elm_builtin"===r._3._3.ctor&&"Red"===r._3._3._0.ctor)break u;if("RBNode_elm_builtin"===r._3._4.ctor&&"Red"===r._3._4._0.ctor)break c;break t}case"NBlack":switch(r._4._0.ctor){case"Red":if("RBNode_elm_builtin"===r._4._3.ctor&&"Red"===r._4._3._0.ctor)break o;if("RBNode_elm_builtin"===r._4._4.ctor&&"Red"===r._4._4._0.ctor)break e;if("BBlack"===r._0.ctor&&"RBNode_elm_builtin"===r._3._3.ctor&&"Black"===r._3._3._0.ctor&&"RBNode_elm_builtin"===r._3._4.ctor&&"Black"===r._3._4._0.ctor)break r;break t;case"NBlack":if("BBlack"===r._0.ctor){if("RBNode_elm_builtin"===r._4._3.ctor&&"Black"===r._4._3._0.ctor&&"RBNode_elm_builtin"===r._4._4.ctor&&"Black"===r._4._4._0.ctor)break n;if("RBNode_elm_builtin"===r._3._3.ctor&&"Black"===r._3._3._0.ctor&&"RBNode_elm_builtin"===r._3._4.ctor&&"Black"===r._3._4._0.ctor)break r;break t}break t;default:if("BBlack"===r._0.ctor&&"RBNode_elm_builtin"===r._3._3.ctor&&"Black"===r._3._3._0.ctor&&"RBNode_elm_builtin"===r._3._4.ctor&&"Black"===r._3._4._0.ctor)break r;break t}default:switch(r._4._0.ctor){case"Red":if("RBNode_elm_builtin"===r._4._3.ctor&&"Red"===r._4._3._0.ctor)break o;if("RBNode_elm_builtin"===r._4._4.ctor&&"Red"===r._4._4._0.ctor)break e;break t;case"NBlack":if("BBlack"===r._0.ctor&&"RBNode_elm_builtin"===r._4._3.ctor&&"Black"===r._4._3._0.ctor&&"RBNode_elm_builtin"===r._4._4.ctor&&"Black"===r._4._4._0.ctor)break n;break t;default:break t}}else switch(r._3._0.ctor){case"Red":if("RBNode_elm_builtin"===r._3._3.ctor&&"Red"===r._3._3._0.ctor)break u;if("RBNode_elm_builtin"===r._3._4.ctor&&"Red"===r._3._4._0.ctor)break c;break t;case"NBlack":if("BBlack"===r._0.ctor&&"RBNode_elm_builtin"===r._3._3.ctor&&"Black"===r._3._3._0.ctor&&"RBNode_elm_builtin"===r._3._4.ctor&&"Black"===r._3._4._0.ctor)break r;break t;default:break t}else{if("RBNode_elm_builtin"!==r._4.ctor)break t;switch(r._4._0.ctor){case"Red":if("RBNode_elm_builtin"===r._4._3.ctor&&"Red"===r._4._3._0.ctor)break o;if("RBNode_elm_builtin"===r._4._4.ctor&&"Red"===r._4._4._0.ctor)break e;break t;case"NBlack":if("BBlack"===r._0.ctor&&"RBNode_elm_builtin"===r._4._3.ctor&&"Black"===r._4._3._0.ctor&&"RBNode_elm_builtin"===r._4._4.ctor&&"Black"===r._4._4._0.ctor)break n;break t;default:break t}}}while(!1);return gr(r._0)(r._3._3._1)(r._3._3._2)(r._3._1)(r._3._2)(r._1)(r._2)(r._3._3._3)(r._3._3._4)(r._3._4)(r._4)}while(!1);return gr(r._0)(r._3._1)(r._3._2)(r._3._4._1)(r._3._4._2)(r._1)(r._2)(r._3._3)(r._3._4._3)(r._3._4._4)(r._4)}while(!1);return gr(r._0)(r._1)(r._2)(r._4._3._1)(r._4._3._2)(r._4._1)(r._4._2)(r._3)(r._4._3._3)(r._4._3._4)(r._4._4)}while(!1);return gr(r._0)(r._1)(r._2)(r._4._1)(r._4._2)(r._4._4._1)(r._4._4._2)(r._3)(r._4._3)(r._4._4._3)(r._4._4._4)}while(!1);return l(vr,ur,r._4._3._1,r._4._3._2,l(vr,ur,r._1,r._2,r._3,r._4._3._3),l(kr,ur,r._4._1,r._4._2,r._4._3._4,yr(r._4._4)))}while(!1);return l(vr,ur,r._3._4._1,r._3._4._2,l(kr,ur,r._3._1,r._3._2,yr(r._3._3),r._3._4._3),l(vr,ur,r._1,r._2,r._3._4._4,r._4))}while(!1);return t},kr=e(function(t,r,n,e,o){var c=l(vr,t,r,n,e,o);return ir(c)?Tr(c):c}),wr=e(function(t,r,n,e,o){return Zt(e)||Zt(o)?l(kr,_r(t),r,n,mr(e),mr(o)):l(vr,t,r,n,e,o)}),Sr=e(function(t,r,n,e,o){var c=o;return"RBEmpty_elm_builtin"===c.ctor?_(Er,t,e,o):l(wr,t,r,n,e,l(Sr,c._0,c._1,c._2,c._3,c._4))}),Er=r(function(t,r,n){var e={ctor:"_Tuple2",_0:r,_1:n};if("RBEmpty_elm_builtin"!==e._0.ctor){if("RBEmpty_elm_builtin"===e._1.ctor){var o=e._1._0,c=e._0._0,u={ctor:"_Tuple3",_0:t,_1:c,_2:o};return"_Tuple3"===u.ctor&&"Black"===u._0.ctor&&"Red"===u._1.ctor&&"LBlack"===u._2.ctor?l(vr,ur,e._0._1,e._0._2,e._0._3,e._0._4):f(Qt,"Black/Red/LBlack",t,y(c),y(o))}var i=e._0._2,a=e._0._4,s=e._0._1,d=l(Sr,e._0._0,s,i,e._0._3,a),p=_(er,s,i,a),v=p._0,h=p._1;return l(wr,t,v,h,d,n)}if("RBEmpty_elm_builtin"!==e._1.ctor){var m=e._1._0,g=e._0._0,b={ctor:"_Tuple3",_0:t,_1:g,_2:m};return"_Tuple3"===b.ctor&&"Black"===b._0.ctor&&"LBlack"===b._1.ctor&&"Red"===b._2.ctor?l(vr,ur,e._1._1,e._1._2,e._1._3,e._1._4):f(Qt,"Black/LBlack/Red",t,y(g),y(m))}switch(t.ctor){case"Red":return dr(sr);case"Black":return dr(lr);default:return R.crash("cannot have bblack or nblack nodes at this point")}}),Rr=t(function(t,r){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return dr(sr);var e=n._1;return l(vr,n._0,e,a(t,e,n._2),a(Rr,t,n._3),a(Rr,t,n._4))}),Ar={ctor:"Same"},Nr={ctor:"Remove"},Cr={ctor:"Insert"},xr=r(function(t,r,n){var e=function(n){var o=n;if("RBEmpty_elm_builtin"===o.ctor){var c=r(N);return"Nothing"===c.ctor?{ctor:"_Tuple2",_0:Ar,_1:pr}:{ctor:"_Tuple2",_0:Cr,_1:l(vr,ar,t,c._0,pr,pr)}}var u=o._2,i=o._4,f=o._3,s=o._1,d=o._0;switch(a(S,t,s).ctor){case"EQ":var p=r(C(u));return"Nothing"===p.ctor?{ctor:"_Tuple2",_0:Nr,_1:_(Er,d,f,i)}:{ctor:"_Tuple2",_0:Ar,_1:l(vr,d,s,p._0,f,i)};case"LT":var v=e(f),h=v._0,m=v._1;switch(h.ctor){case"Same":return{ctor:"_Tuple2",_0:Ar,_1:l(vr,d,s,u,m,i)};case"Insert":return{ctor:"_Tuple2",_0:Cr,_1:l(kr,d,s,u,m,i)};default:return{ctor:"_Tuple2",_0:Nr,_1:l(wr,d,s,u,m,i)}}default:var g=e(i),h=g._0,b=g._1;switch(h.ctor){case"Same":return{ctor:"_Tuple2",_0:Ar,_1:l(vr,d,s,u,f,b)};case"Insert":return{ctor:"_Tuple2",_0:Cr,_1:l(kr,d,s,u,f,b)};default:return{ctor:"_Tuple2",_0:Nr,_1:l(wr,d,s,u,f,b)}}}},o=e(n),c=o._0,u=o._1;switch(c.ctor){case"Same":return u;case"Insert":return hr(u);default:return br(u)}}),Br=r(function(t,r,n){return _(xr,t,m(C(r)),n)}),Lr=(t(function(t,r){return _(Br,t,r,pr)}),t(function(t,r){return _(Kt,Br,r,t)})),Or=t(function(t,n){var e=r(function(r,n,e){return a(t,r,n)?_(Br,r,n,e):e});return _(Kt,e,pr,n)}),Mr=(t(function(r,n){return a(Or,t(function(t,r){return a(nr,t,n)}),r)}),t(function(t,n){var e=r(function(r,n,e){var o=e,c=o._1,u=o._0;return a(t,r,n)?{ctor:"_Tuple2",_0:_(Br,r,n,u),_1:c}:{ctor:"_Tuple2",_0:u,_1:_(Br,r,n,c)}});return _(Kt,e,{ctor:"_Tuple2",_0:pr,_1:pr},n)}),t(function(t,r){return _(xr,t,m(N),r)})),Pr=(t(function(t,n){return _(Kt,r(function(t,r,n){return a(Mr,t,n)}),t,n)}),function(){function r(t,r){return bt.nativeBinding(function(n){var e=setInterval(function(){bt.rawSpawn(r)},t);return function(){clearInterval(e)}})}return{now:bt.nativeBinding(function(t){t(bt.succeed(Date.now()))}),setInterval_:t(r)}}()),Ir=Pr.setInterval_,Fr=r(function(t,r,n){var e=r;if("[]"===e.ctor)return Ft(n);var o=e._0,c=function(r){return _(Fr,t,e._1,_(Br,o,r,n))},u=bt.spawn(a(Ir,o,a(Et,t,o)));return a(Mt,c,u)}),Dr=t(function(t,r){var n=t,e=n._1,o=n._0,c=a(rr,o,r);return"Nothing"===c.ctor?_(Br,o,{ctor:"::",_0:e,_1:{ctor:"[]"}},r):_(Br,o,{ctor:"::",_0:e,_1:c._0},r)}),zr=Pr.now,Ur=r(function(t,r,n){var e=a(rr,r,n.taggers);return"Nothing"===e.ctor?Ft(n):a(Mt,function(t){return Ft(n)},a(Mt,function(r){return Ut(a(J,function(n){return a(Rt,t,n(r))},e._0))},zr))}),qr=gt.leaf("Time"),Gr=t(function(t,r){return{taggers:t,processes:r}}),Jr=Ft(a(Gr,pr,pr)),Wr=r(function(t,e,o){var c=o,u=r(function(t,r,n){var e=n;return{ctor:"_Tuple3",_0:e._0,_1:e._1,_2:a(Mt,function(t){return e._2},bt.kill(r))}}),i=n(function(t,r,n,e){var o=e;return{ctor:"_Tuple3",_0:o._0,_1:_(Br,t,n,o._1),_2:o._2}}),f=r(function(t,r,n){var e=n;return{ctor:"_Tuple3",_0:{ctor:"::",_0:t,_1:e._0},_1:e._1,_2:e._2}}),l=_(I,Dr,pr,e),d=s($t,f,i,u,l,c.processes,{ctor:"_Tuple3",_0:{ctor:"[]"},_1:pr,_2:Ft({ctor:"_Tuple0"})}),p=d._0,v=d._1,h=d._2;return a(Mt,function(t){return Ft(a(Gr,l,t))},a(Mt,function(r){return _(Fr,t,p,v)},h))}),Vr=t(function(t,r){return{ctor:"Every",_0:t,_1:r}}),Hr=t(function(t,r){return qr(a(Vr,t,r))}),Yr=t(function(t,r){var n=r;return a(Vr,n._0,function(r){return t(n._1(r))})});gt.effectManagers.Time={pkg:"elm-lang/core",init:Jr,onEffects:Wr,onSelfMsg:Ur,tag:"sub",subMap:Yr};var jr=r(function(t,r,n){return Ft(n)}),Xr=function(t){return{ctor:"_Tuple2",_0:0,_1:2147483562}},Kr=t(function(t,r){return t._0(r)}),$r=r(function(t,r,n){var e=r;if("[]"===e.ctor)return Ft(n);var o=a(Kr,e._0._0,n),c=o._0,u=o._1;return a(Mt,function(r){return _($r,t,e._1,u)},a(Rt,t,c))}),Qr=n(function(t,r,n,e){for(;;){if(h.cmp(r,1)<0)return{ctor:"_Tuple2",_0:H(t),_1:e};var o=n(e);t={ctor:"::",_0:o._0,_1:t},r=r-1,n=n,e=o._1}}),Zr=t(function(t,r){return h.cmp(r,t)<0?1:1+a(Zr,t,r/t|0)}),tn=gt.leaf("Random"),rn=function(t){return{ctor:"Generator",_0:t}},nn=t(function(t,r){var n=r;return rn(function(r){return f(Qr,{ctor:"[]"},t,n._0,r)})}),en=t(function(t,r){var n=r;return rn(function(r){var e=n._0(r),o=e._0,c=e._1;return{ctor:"_Tuple2",_0:t(o),_1:c}})}),on=r(function(t,r,n){var e=r,o=n;return rn(function(r){var n=e._0(r),c=n._0,u=n._1,i=o._0(u),_=i._0,f=i._1;return{ctor:"_Tuple2",_0:a(t,c,_),_1:f}})}),cn=(t(function(r,n){return _(on,t(function(t,r){return{ctor:"_Tuple2",_0:t,_1:r}}),r,n)}),n(function(t,r,n,e){var o=r,c=n,u=e;return rn(function(r){var n=o._0(r),e=n._0,i=n._1,a=c._0(i),f=a._0,l=a._1,s=u._0(l),d=s._0,p=s._1;return{ctor:"_Tuple2",_0:_(t,e,f,d),_1:p}})}),e(function(t,r,n,e,o){var c=r,u=n,i=e,a=o;return rn(function(r){var n=c._0(r),e=n._0,o=n._1,_=u._0(o),l=_._0,s=_._1,d=i._0(s),p=d._0,v=d._1,h=a._0(v),m=h._0,g=h._1;return{ctor:"_Tuple2",_0:f(t,e,l,p,m),_1:g}})}),o(function(t,r,n,e,o,c){var u=r,i=n,a=e,_=o,f=c;return rn(function(r){var n=u._0(r),e=n._0,o=n._1,c=i._0(o),s=c._0,d=c._1,p=a._0(d),v=p._0,h=p._1,m=_._0(h),g=m._0,b=m._1,y=f._0(b),T=y._0,k=y._1;return{ctor:"_Tuple2",_0:l(t,e,s,v,g,T),_1:k}})})),un=t(function(t,r){var n=r;return rn(function(r){var e=n._0(r),o=e._0,c=e._1;return(0,t(o)._0)(c)})}),an=t(function(t,r){return{ctor:"State",_0:t,_1:r}}),_n=function(t){var r=a(w,t,0-t),n=r/2147483562|0,e=a(b["%"],n,2147483398),o=a(b["%"],r,2147483562);return a(an,o+1,e+1)},fn=function(t){var r=t,n=r._1,e=r._0,o=n/52774|0,c=40692*(n-52774*o)-3791*o,u=h.cmp(c,0)<0?c+2147483399:c,i=e/53668|0,_=40014*(e-53668*i)-12211*i,f=h.cmp(_,0)<0?_+2147483563:_,l=f-u;return{ctor:"_Tuple2",_0:h.cmp(l,1)<0?l+2147483562:l,_1:a(an,f,u)}},ln=function(t){var r=t,n=r._1,e=r._0,o=ht(fn(r)),c=o._0,u=o._1,i=h.eq(n,1)?2147483398:n-1,_=h.eq(e,2147483562)?1:e+1;return{ctor:"_Tuple2",_0:a(an,_,u),_1:a(an,c,i)}},sn=function(t){return{ctor:"Seed",_0:t}},dn=t(function(t,n){return rn(function(e){var o=e._0,c=r(function(t,r,n){for(;;){if(0===t)return{ctor:"_Tuple2",_0:r,_1:n};var e=o.next(n);t=t-1,r=e._0+2147483561*r,n=e._1}}),u=h.cmp(t,n)<0?{ctor:"_Tuple2",_0:t,_1:n}:{ctor:"_Tuple2",_0:n,_1:t},i=u._0,f=u._1-i+1,l=_(c,a(Zr,2147483561,f),1,o.state),s=l._0,d=l._1;return{ctor:"_Tuple2",_0:i+a(b["%"],s,f),_1:sn(h.update(o,{state:d}))}})}),pn=a(en,t(function(t,r){return h.eq(t,r)})(1),a(dn,0,1)),vn=t(function(t,r){return rn(function(n){var e=a(Kr,a(dn,-2147483648,2147483647),n),o=e._0,c=e._1,u=T(o)/T(4294967295),i=h.cmp(t,r)<0?{ctor:"_Tuple2",_0:t,_1:r}:{ctor:"_Tuple2",_0:r,_1:t},_=i._0,f=i._1;return{ctor:"_Tuple2",_0:(_+f)/2+(f-_)*u,_1:c}})}),hn=function(t){return sn({state:_n(t),next:fn,split:ln,range:Xr})},mn=a(Mt,function(t){return Ft(hn(k(t)))},zr),gn=function(t){return{ctor:"Generate",_0:t}},bn=(t(function(t,r){return tn(gn(a(en,t,r)))}),t(function(t,r){return gn(a(en,t,r._0))}));gt.effectManagers.Random={pkg:"elm-lang/core",init:mn,onEffects:$r,onSelfMsg:jr,tag:"cmd",cmdMap:bn};c(function(t,r,n,e,o,c,u){return a(un,function(r){return a(un,function(n){return a(un,function(e){return a(un,function(o){return a(un,function(c){return a(un,function(u){return s(t,r,n,e,o,c,u)},u)},c)},o)},e)},n)},r)}),o(function(t,r,n,e,o,c){return a(un,function(r){return a(un,function(n){return a(un,function(e){return a(un,function(o){return a(un,function(c){return l(t,r,n,e,o,c)},c)},o)},e)},n)},r)}),e(function(t,r,n,e,o){return a(un,function(r){return a(un,function(n){return a(un,function(e){return a(un,function(o){return f(t,r,n,e,o)},o)},e)},n)},r)}),n(function(t,r,n,e){return a(un,function(r){return a(un,function(n){return a(un,function(e){return _(t,r,n,e)},e)},n)},r)}),r(function(t,r,n){return a(un,function(r){return a(un,function(n){return a(t,r,n)},n)},r)}),r(function(t,r,n){return a(un,function(t){return a(nn,t,n)},a(dn,t,r))}),r(function(t,r,n){return a(un,function(t){return t?a(en,et,n):a(en,nt,r)},t)}),function(){var r=t(function(t,r){for(;;){var n=r;if("[]"===n.ctor)return N;if(h.eq(t,0))return C(n._0);t=t-1,r=n._1}})}();var yn,Tn=function(r){var n=t(function(t,r){for(;;){var n=t;{if("::"!==n.ctor||"_Tuple2"!==n._0.ctor)return h.crashCase("Random.Extra",{start:{line:154,column:13},end:{line:162,column:79}},n)("Empty list passed to Random.Extra.frequency!");var e=n._0._0;if(h.cmp(r,e)<1)return n._0._1;t=n._1,r=r-e}}}),e=D(a(J,function(t){return E(mt(t))},r));return a(un,n(r),a(vn,0,e))},kn=(t(function(t,r){return a(en,function(n){return n?t:r},pn)}),t(function(r,n){return _(on,t(function(t,r){return t(r)}),n,r)})),wn=(c(function(t,r,n,e,o,c,u){return a(kn,u,s(cn,t,r,n,e,o,c))}),function(t){return a(en,function(r){return t},pn)}),Sn=t(function(t,r){return a(un,function(n){return t(n)?wn(n):a(Sn,t,r)},r)}),En=(t(function(t,r){return a(un,function(t){return t?a(en,C,r):wn(N)},t)}),t(function(t,r){return a(en,ut,a(dn,t,r))})),Rn=a(En,65,90),An=function(t){return Tn(a(J,function(t){return{ctor:"_Tuple2",_0:1,_1:t}},t))}({ctor:"::",_0:a(En,97,122),_1:{ctor:"::",_0:Rn,_1:{ctor:"[]"}}}),Nn=(a(En,0,127),a(En,0,1114111),a(En,0,127),a(En,128,255),a(En,256,383),a(En,384,591),a(En,592,687),a(En,688,767),a(En,768,879),a(En,880,1023),a(En,1024,1279),a(En,1280,1327),a(En,1328,1423),a(En,1424,1535),a(En,1536,1791),a(En,1792,1871),a(En,1872,1919),a(En,1920,1983),a(En,1984,2047),a(En,2048,2111),a(En,2112,2143),a(En,2208,2303),a(En,2304,2431),a(En,2432,2559),a(En,2560,2687),a(En,2688,2815),a(En,2816,2943),a(En,2944,3071),a(En,3072,3199),a(En,3200,3327),a(En,3328,3455),a(En,3456,3583),a(En,3584,3711),a(En,3712,3839),a(En,3840,4095),a(En,4096,4255),a(En,4256,4351),a(En,4352,4607),a(En,4608,4991),a(En,4992,5023),a(En,5024,5119),a(En,5120,5759),a(En,5760,5791),a(En,5792,5887),a(En,5888,5919),a(En,5920,5951),a(En,5952,5983),a(En,5984,6015),a(En,6016,6143),a(En,6144,6319),a(En,6320,6399),a(En,6400,6479),a(En,6480,6527),a(En,6528,6623),a(En,6624,6655),a(En,6656,6687),a(En,6688,6831),a(En,6912,7039),a(En,7040,7103),a(En,7104,7167),a(En,7168,7247),a(En,7248,7295),a(En,7360,7375),a(En,7376,7423),a(En,7424,7551),a(En,7552,7615),a(En,7616,7679),a(En,7680,7935),a(En,7936,8191),a(En,8192,8303),a(En,8304,8351),a(En,8352,8399),a(En,8400,8447),a(En,8448,8527),a(En,8528,8591),a(En,8592,8703),a(En,8704,8959),a(En,8960,9215),a(En,9216,9279),a(En,9280,9311),a(En,9312,9471),a(En,9472,9599),a(En,9600,9631),a(En,9632,9727),a(En,9728,9983),a(En,9984,10175),a(En,10176,10223),a(En,10224,10239),a(En,10240,10495),a(En,10496,10623),a(En,10624,10751),a(En,10752,11007),a(En,11008,11263),a(En,11264,11359),a(En,11360,11391),a(En,11392,11519),a(En,11520,11567),a(En,11568,11647),a(En,11648,11743),a(En,11744,11775),a(En,11776,11903),a(En,11904,12031),a(En,12032,12255),a(En,12272,12287),a(En,12288,12351),a(En,12352,12447),a(En,12448,12543),a(En,12544,12591),a(En,12592,12687),a(En,12688,12703),a(En,12704,12735),a(En,12736,12783),a(En,12784,12799),a(En,12800,13055),a(En,13056,13311),a(En,13312,19903),a(En,19904,19967),a(En,19968,40959),a(En,40960,42127),a(En,42128,42191),a(En,42192,42239),a(En,42240,42559),a(En,42560,42655),a(En,42656,42751),a(En,42752,42783),a(En,42784,43007),a(En,43008,43055),a(En,43056,43071),a(En,43072,43135),a(En,43136,43231),a(En,43232,43263),a(En,43264,43311),a(En,43312,43359),a(En,43360,43391),a(En,43392,43487),a(En,43520,43615),a(En,43616,43647),a(En,43648,43743),a(En,43744,43775),a(En,43776,43823),a(En,43968,44031),a(En,44032,55215),a(En,55216,55295),a(En,55296,56191),a(En,56192,56319),a(En,56320,57343),a(En,57344,63743),a(En,63744,64255),a(En,64256,64335),a(En,64336,65023),a(En,65024,65039),a(En,65040,65055),a(En,65056,65071),a(En,65072,65103),a(En,65104,65135),a(En,65136,65279),a(En,65280,65519),a(En,65520,65535),a(En,65536,65663),a(En,65664,65791),a(En,65792,65855),a(En,65856,65935),a(En,65936,65999),a(En,66e3,66047),a(En,66176,66207),a(En,66208,66271),a(En,66304,66351),a(En,66352,66383),a(En,66432,66463),a(En,66464,66527),a(En,66560,66639),a(En,66640,66687),a(En,66688,66735),a(En,67584,67647),a(En,67648,67679),a(En,67840,67871),a(En,67872,67903),a(En,67968,67999),a(En,68e3,68095),a(En,68096,68191),a(En,68192,68223),a(En,68352,68415),a(En,68416,68447),a(En,68448,68479),a(En,68608,68687),a(En,69216,69247),a(En,69632,69759),a(En,69760,69839),a(En,69840,69887),a(En,69888,69967),a(En,70016,70111),a(En,71296,71375),a(En,73728,74751),a(En,74752,74879),a(En,77824,78895),a(En,92160,92735),a(En,93952,94111),a(En,110592,110847),a(En,118784,119039),a(En,119040,119295),a(En,119296,119375),a(En,119552,119647),a(En,119648,119679),a(En,119808,120831),a(En,126464,126719),a(En,126976,127023),a(En,127024,127135),a(En,127136,127231),a(En,127232,127487),a(En,127488,127743),a(En,127744,128511),a(En,128512,128591),a(En,128640,128767),a(En,128768,128895),a(En,131072,173791),a(En,173824,177983),a(En,177984,178207),a(En,194560,195103),a(En,917504,917631),a(En,917760,917999),a(En,983040,1048575),a(En,1048576,1114111),t(function(t,r){return a(en,_t,a(nn,t,r))})),Cn=(r(function(t,r,n){return a(un,function(t){return a(Nn,t,n)},a(dn,t,r))}),function(){function t(t){}function n(){return h.guid()}function o(t,r){for(;"[]"!==r.ctor;)t(r._0),r=r._1}function c(t){for(var r=0;"[]"!==t.ctor;)r++,t=t._1;return r}function u(t){return{src:t}}function i(t,r,e,o,c){return o.guid||(o.guid=n()),{ctor:"Entity",vert:r,frag:e,buffer:o,uniforms:c,settings:t}}function a(t,r){switch(r.ctor){case"Blend":t.enable(t.BLEND),t.blendEquationSeparate(r._0,r._3),t.blendFuncSeparate(r._1,r._2,r._4,r._5),t.blendColor(r._6,r._7,r._8,r._9);break;case"DepthTest":t.enable(t.DEPTH_TEST),t.depthFunc(r._0),t.depthMask(r._1),t.depthRange(r._2,r._3);break;case"StencilTest":t.enable(t.STENCIL_TEST),t.stencilFuncSeparate(t.FRONT,r._3,r._0,r._1),t.stencilOpSeparate(t.FRONT,r._4,r._5,r._6),t.stencilMaskSeparate(t.FRONT,r._2),t.stencilFuncSeparate(t.BACK,r._7,r._0,r._1),t.stencilOpSeparate(t.BACK,r._8,r._9,r._10),t.stencilMaskSeparate(t.BACK,r._2);break;case"Scissor":t.enable(t.SCISSOR_TEST),t.scissor(r._0,r._1,r._2,r._3);break;case"ColorMask":t.colorMask(r._0,r._1,r._2,r._3);break;case"CullFace":t.enable(t.CULL_FACE),t.cullFace(r._0);break;case"PolygonOffset":t.enable(t.POLYGON_OFFSET_FILL),t.polygonOffset(r._0,r._1);break;case"SampleCoverage":t.enable(t.SAMPLE_COVERAGE),t.sampleCoverage(r._0,r._1);break;case"SampleAlphaToCoverage":t.enable(t.SAMPLE_ALPHA_TO_COVERAGE)}}function _(t,r){switch(r.ctor){case"Blend":t.disable(t.BLEND);break;case"DepthTest":t.disable(t.DEPTH_TEST);break;case"StencilTest":t.disable(t.STENCIL_TEST);break;case"Scissor":t.disable(t.SCISSOR_TEST);break;case"ColorMask":t.colorMask(!0,!0,!0,!0);break;case"CullFace":t.disable(t.CULL_FACE);break;case"PolygonOffset":t.disable(t.POLYGON_OFFSET_FILL);break;case"SampleCoverage":t.disable(t.SAMPLE_COVERAGE);break;case"SampleAlphaToCoverage":t.disable(t.SAMPLE_ALPHA_TO_COVERAGE)}}function f(r,n,e){var o=r.createShader(e);if(t("Created shader"),r.shaderSource(o,n),r.compileShader(o),!r.getShaderParameter(o,r.COMPILE_STATUS))throw r.getShaderInfoLog(o);return o}function l(r,n,e){var o=r.createProgram();if(t("Created program"),r.attachShader(o,n),r.attachShader(o,e),r.linkProgram(o),!r.getProgramParameter(o,r.LINK_STATUS))throw r.getProgramInfoLog(o);return o}function s(t,r){switch(r){case"Triangles":return{mode:t.TRIANGLES,elemSize:3,indexSize:0};case"LineStrip":return{mode:t.LINE_STRIP,elemSize:1,indexSize:0};case"LineLoop":return{mode:t.LINE_LOOP,elemSize:1,indexSize:0};case"Points":return{mode:t.POINTS,elemSize:1,indexSize:0};case"Lines":return{mode:t.LINES,elemSize:2,indexSize:0};case"TriangleStrip":return{mode:t.TRIANGLE_STRIP,elemSize:1,indexSize:0};case"TriangleFan":return{mode:t.TRIANGLE_FAN,elemSize:1,indexSize:0};case"IndexedTriangles":return{mode:t.TRIANGLES,elemSize:1,indexSize:3}}}function d(t,r){switch(r){case t.FLOAT:return{size:1,type:Float32Array,baseType:t.FLOAT};case t.FLOAT_VEC2:return{size:2,type:Float32Array,baseType:t.FLOAT};case t.FLOAT_VEC3:return{size:3,type:Float32Array,baseType:t.FLOAT};case t.FLOAT_VEC4:return{size:4,type:Float32Array,baseType:t.FLOAT};case t.INT:return{size:1,type:Int32Array,baseType:t.INT};case t.INT_VEC2:return{size:2,type:Int32Array,baseType:t.INT};case t.INT_VEC3:return{size:3,type:Int32Array,baseType:t.INT};case t.INT_VEC4:return{size:4,type:Int32Array,baseType:t.INT}}}function p(r,n,e,u){function i(t,r,n,e,o){if(1===u)for(var c=0;c<r;c++)t[n++]=1===r?e[o]:e[o][c];else a.forEach(function(c){for(var u=0;u<r;u++)t[n++]=1===r?e[c][o]:e[c][o][u]})}for(var a=[],_=0;_<u;_++)a.push("_"+_);var f=d(r,n.type);if(void 0===f)throw new Error("No info available for: "+n.type);var l=0,s=new f.type(c(e)*f.size*u);o(function(t){i(s,f.size,l,t,n.name),l+=f.size*u},e);var p=r.createBuffer();return t("Created attribute buffer "+n.name),r.bindBuffer(r.ARRAY_BUFFER,p),r.bufferData(r.ARRAY_BUFFER,s,r.STATIC_DRAW),p}function v(r,n,e){t("Created index buffer");var o=r.createBuffer(),u=0===n.indexSize?m(n.elemSize*c(e._0)):g(e._1,n.indexSize);return r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,o),r.bufferData(r.ELEMENT_ARRAY_BUFFER,u,r.STATIC_DRAW),{numIndices:u.length,indexBuffer:o,buffers:{}}}function m(t){for(var r=new Uint16Array(t),n=0;n<t;n++)r[n]=n;return r}function g(t,r){var n,e=new Uint16Array(c(t)*r),u=0;return o(function(t){if(1===r)e[u++]=t;else for(n=0;n<r;n++)e[u++]=t["_"+n.toString()]},t),e}function b(t,r){return t+"#"+r}function y(r,e){function u(t){if(0!==c(t.buffer._0)){var r,e;if(t.vert.id&&t.frag.id&&(r=b(t.vert.id,t.frag.id),e=i.cache.programs[r]),!e){var u;t.vert.id?u=i.cache.shaders[t.vert.id]:t.vert.id=n(),u||(u=f(h,t.vert.src,h.VERTEX_SHADER),i.cache.shaders[t.vert.id]=u);var m;t.frag.id?m=i.cache.shaders[t.frag.id]:t.frag.id=n(),m||(m=f(h,t.frag.src,h.FRAGMENT_SHADER),i.cache.shaders[t.frag.id]=m),e=l(h,u,m),r=b(t.vert.id,t.frag.id),i.cache.programs[r]=e}h.useProgram(e),r=r||b(t.vert.id,t.frag.id);var g=i.cache.uniformSetters[r];g||(g=T(h,i,e),i.cache.uniformSetters[r]=g),k(g,t.uniforms);var y=s(h,t.buffer.ctor),w=i.cache.buffers[t.buffer.guid];w||(w=v(h,y,t.buffer),i.cache.buffers[t.buffer.guid]=w),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,w.indexBuffer);for(var S=h.getProgramParameter(e,h.ACTIVE_ATTRIBUTES),E=0;E<S;E++){var R=h.getActiveAttrib(e,E),A=h.getAttribLocation(e,R.name);h.enableVertexAttribArray(A),void 0===w.buffers[R.name]&&(w.buffers[R.name]=p(h,R,t.buffer._0,y.elemSize));var N=w.buffers[R.name],C=d(h,R.type);h.bindBuffer(h.ARRAY_BUFFER,N),h.vertexAttribPointer(A,C.size,C.baseType,!1,0,0)}o(function(t){a(h,t)},t.settings),h.drawElements(y.mode,w.numIndices,h.UNSIGNED_SHORT,0),o(function(t){_(h,t)},t.settings)}}var i=e.model,h=i.cache.gl;return h?(h.viewport(0,0,h.drawingBufferWidth,h.drawingBufferHeight),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT|h.STENCIL_BUFFER_BIT),t("Drawing"),o(u,i.entities),r):r}function T(r,n,e){for(var o=0,c={},u=r.getProgramParameter(e,r.ACTIVE_UNIFORMS),i=0;i<u;i++){var a=r.getActiveUniform(e,i);c[a.name]=function(e,c){var u=r.getUniformLocation(e,c.name);switch(c.type){case r.INT:return function(t){r.uniform1i(u,t)};case r.FLOAT:return function(t){r.uniform1f(u,t)};case r.FLOAT_VEC2:return function(t){r.uniform2fv(u,new Float32Array(t))};case r.FLOAT_VEC3:return function(t){r.uniform3fv(u,new Float32Array(t))};case r.FLOAT_VEC4:return function(t){r.uniform4fv(u,new Float32Array(t))};case r.FLOAT_MAT4:return function(t){r.uniformMatrix4fv(u,!1,new Float32Array(t))};case r.SAMPLER_2D:var i=o++;return function(e){r.activeTexture(r.TEXTURE0+i);var o=n.cache.textures[e.id];o||(t("Created texture"),o=e.createTexture(r),n.cache.textures[e.id]=o),r.bindTexture(r.TEXTURE_2D,o),r.uniform1i(u,i)};case r.BOOL:return function(t){r.uniform1i(u,t)};default:return t("Unsupported uniform type: "+c.type),function(){}}}(e,a)}return c}function k(t,r){Object.keys(r).forEach(function(n){var e=t[n];e&&e(r[n])})}function w(t,r,n){var e={entities:n,cache:{},options:t};return Qn.custom(r,e,A)}function S(r){var n={alpha:!1,depth:!1,stencil:!1,antialias:!1,premultipliedAlpha:!1},e=[];o(function(t){var r=t._0;switch(t.ctor){case"Alpha":n.alpha=!0,n.premultipliedAlpha=r;break;case"Antialias":n.antialias=!0;break;case"Depth":n.depth=!0,e.push(function(t){t.clearDepth(r)});break;case"ClearColor":e.push(function(r){r.clearColor(t._0,t._1,t._2,t._3)});break;case"Stencil":n.stencil=!0,e.push(function(t){t.clearStencil(r)})}},r.options),t("Render canvas");var c=document.createElement("canvas"),u=c.getContext&&(c.getContext("webgl",n)||c.getContext("experimental-webgl",n));return u?e.forEach(function(t){t(u)}):(c=document.createElement("div")).innerHTML='<a href="http://get.webgl.org/">Enable WebGL</a> to see this content!',r.cache.gl=u,r.cache.shaders=[],r.cache.programs={},r.cache.uniformSetters={},r.cache.buffers=[],r.cache.textures=[],R(function(){y(c,{model:r})}),c}function E(t,r){return r.model.cache=t.model.cache,{applyPatch:y,data:r}}var R="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,1e3/60)},A={render:S,diff:E};return{unsafeCoerceGLSL:u,entity:e(i),toHtml:r(w)}}()),xn=function(){function a(t){return{ctor:"<decoder>",tag:"succeed",msg:t}}function _(t){return{ctor:"<decoder>",tag:"fail",msg:t}}function f(t){return{ctor:"<decoder>",tag:t}}function l(t,r){return{ctor:"<decoder>",tag:t,decoder:r}}function s(t){return{ctor:"<decoder>",tag:"null",value:t}}function d(t,r){return{ctor:"<decoder>",tag:"field",field:t,decoder:r}}function p(t,r){return{ctor:"<decoder>",tag:"index",index:t,decoder:r}}function v(t){return{ctor:"<decoder>",tag:"key-value",decoder:t}}function m(t,r){return{ctor:"<decoder>",tag:"map-many",func:t,decoders:r}}function g(t,r){return{ctor:"<decoder>",tag:"andThen",decoder:r,callback:t}}function b(t){return{ctor:"<decoder>",tag:"oneOf",decoders:t}}function y(t,r){return m(t,[r])}function T(t,r,n){return m(t,[r,n])}function k(t,r,n,e){return m(t,[r,n,e])}function w(t,r,n,e,o){return m(t,[r,n,e,o])}function S(t,r,n,e,o,c){return m(t,[r,n,e,o,c])}function E(t,r,n,e,o,c,u){return m(t,[r,n,e,o,c,u])}function R(t,r,n,e,o,c,u,i){return m(t,[r,n,e,o,c,u,i])}function A(t,r,n,e,o,c,u,i,a){return m(t,[r,n,e,o,c,u,i,a])}function x(t){return{tag:"ok",value:t}}function L(t,r){return{tag:"primitive",type:t,value:r}}function O(t,r){return{tag:"index",index:t,rest:r}}function M(t,r){return{tag:"field",field:t,rest:r}}function O(t,r){return{tag:"index",index:t,rest:r}}function P(t){return{tag:"oneOf",problems:t}}function I(t){return{tag:"fail",msg:t}}function F(t){for(var r="_";t;)switch(t.tag){case"primitive":return"Expecting "+t.type+("_"===r?"":" at "+r)+" but instead got: "+D(t.value);case"index":r+="["+t.index+"]",t=t.rest;break;case"field":r+="."+t.field,t=t.rest;break;case"oneOf":for(var n=t.problems,e=0;e<n.length;e++)n[e]=F(n[e]);return"I ran into the following problems"+("_"===r?"":" at "+r)+":\n\n"+n.join("\n");case"fail":return"I ran into a `fail` decoder"+("_"===r?"":" at "+r)+": "+t.msg}}function D(t){return void 0===t?"undefined":JSON.stringify(t)}function z(t,r){var n;try{n=JSON.parse(r)}catch(t){return nt("Given an invalid JSON: "+t.message)}return U(t,n)}function U(t,r){var n=q(t,r);return"ok"===n.tag?et(n.value):nt(F(n))}function q(t,r){switch(t.tag){case"bool":return"boolean"==typeof r?x(r):L("a Bool",r);case"int":return"number"!=typeof r?L("an Int",r):-2147483647<r&&r<2147483647&&(0|r)===r?x(r):!isFinite(r)||r%1?L("an Int",r):x(r);case"float":return"number"==typeof r?x(r):L("a Float",r);case"string":return"string"==typeof r?x(r):r instanceof String?x(r+""):L("a String",r);case"null":return null===r?x(t.value):L("null",r);case"value":return x(r);case"list":if(!(r instanceof Array))return L("a List",r);for(var n=B.Nil,e=r.length;e--;){if("ok"!==(v=q(t.decoder,r[e])).tag)return O(e,v);n=B.Cons(v.value,n)}return x(n);case"array":if(!(r instanceof Array))return L("an Array",r);for(var o=r.length,c=new Array(o),e=o;e--;){if("ok"!==(v=q(t.decoder,r[e])).tag)return O(e,v);c[e]=v.value}return x(xt.fromJSArray(c));case"maybe":return x("ok"===(v=q(t.decoder,r)).tag?C(v.value):N);case"field":var u=t.field;return"object"==typeof r&&null!==r&&u in r?"ok"===(v=q(t.decoder,r[u])).tag?v:M(u,v):L("an object with a field named `"+u+"`",r);case"index":var i=t.index;return r instanceof Array?i>=r.length?L("a longer array. Need index "+i+" but there are only "+r.length+" entries",r):"ok"===(v=q(t.decoder,r[i])).tag?v:O(i,v):L("an array",r);case"key-value":if("object"!=typeof r||null===r||r instanceof Array)return L("an object",r);var a=B.Nil;for(var _ in r){if("ok"!==(v=q(t.decoder,r[_])).tag)return M(_,v);var f=h.Tuple2(_,v.value);a=B.Cons(f,a)}return x(a);case"map-many":for(var l=t.func,s=t.decoders,e=0;e<s.length;e++){if("ok"!==(v=q(s[e],r)).tag)return v;l=l(v.value)}return x(l);case"andThen":return"ok"!==(v=q(t.decoder,r)).tag?v:q(t.callback(v.value),r);case"oneOf":for(var d=[],p=t.decoders;"[]"!==p.ctor;){var v=q(p._0,r);if("ok"===v.tag)return v;d.push(v),p=p._1}return P(d);case"fail":return I(t.msg);case"succeed":return x(t.msg)}}function G(t,r){if(t===r)return!0;if(t.tag!==r.tag)return!1;switch(t.tag){case"succeed":case"fail":return t.msg===r.msg;case"bool":case"int":case"float":case"string":case"value":return!0;case"null":return t.value===r.value;case"list":case"array":case"maybe":case"key-value":return G(t.decoder,r.decoder);case"field":return t.field===r.field&&G(t.decoder,r.decoder);case"index":return t.index===r.index&&G(t.decoder,r.decoder);case"map-many":return t.func===r.func&&J(t.decoders,r.decoders);case"andThen":return t.callback===r.callback&&G(t.decoder,r.decoder);case"oneOf":return J(t.decoders,r.decoders)}}function J(t,r){var n=t.length;if(n!==r.length)return!1;for(var e=0;e<n;e++)if(!G(t[e],r[e]))return!1;return!0}function W(t,r){return JSON.stringify(r,null,t)}function V(t){return t}function H(t){for(var r={};"[]"!==t.ctor;){var n=t._0;r[n._0]=n._1,t=t._1}return r}return{encode:t(W),runOnString:t(z),run:t(U),decodeNull:s,decodePrimitive:f,decodeContainer:t(l),decodeField:t(d),decodeIndex:t(p),map1:t(y),map2:r(T),map3:n(k),map4:e(w),map5:o(S),map6:c(E),map7:u(R),map8:i(A),decodeKeyValuePairs:v,andThen:t(g),fail:_,succeed:a,oneOf:b,identity:V,encodeNull:null,encodeArray:xt.toJSArray,encodeList:B.toArray,encodeObject:H,equality:G}}(),Bn=(xn.encodeList,xn.encodeArray,xn.encodeObject,xn.encodeNull,xn.identity),Ln=(xn.identity,xn.identity,xn.identity),On=(xn.encode,xn.decodeNull),Mn=(xn.decodePrimitive("value"),xn.andThen),Pn=xn.fail,In=xn.succeed,Fn=xn.run,Dn=xn.runOnString,zn=(xn.map8,xn.map7,xn.map6),Un=(xn.map5,xn.map4),qn=xn.map3,Gn=xn.map2,Jn=xn.map1,Wn=xn.oneOf,Vn=xn.decodeIndex,Hn=xn.decodeField,Yn=t(function(t,r){return _(P,Hn,r,t)}),jn=(xn.decodeKeyValuePairs,function(t){return a(xn.decodeContainer,"list",t)}),Xn=(xn.decodePrimitive("float"),xn.decodePrimitive("int")),Kn=xn.decodePrimitive("bool"),$n=xn.decodePrimitive("string"),Qn=function(){function e(t){return{type:"text",text:t}}function o(r){return t(function(t,n){return c(r,t,n)})}function c(t,r,n){for(var e=v(r),o=e.namespace,c=e.facts,u=[],i=0;"[]"!==n.ctor;){var a=n._0;i+=a.descendantsCount||0,u.push(a),n=n._1}return i+=u.length,{type:"node",tag:t,facts:c,children:u,namespace:o,descendantsCount:i}}function u(t,r,n){for(var e=v(r),o=e.namespace,c=e.facts,u=[],i=0;"[]"!==n.ctor;){var a=n._0;i+=a._1.descendantsCount||0,u.push(a),n=n._1}return i+=u.length,{type:"keyed-node",tag:t,facts:c,children:u,namespace:o,descendantsCount:i}}function i(t,r,n){return{type:"custom",facts:v(t).facts,model:r,impl:n}}function f(t,r){return{type:"tagger",tagger:t,node:r,descendantsCount:1+(r.descendantsCount||0)}}function l(t,r,n){return{type:"thunk",func:t,args:r,thunk:n,node:void 0}}function s(t,r){return l(t,[r],function(){return t(r)})}function d(t,r,n){return l(t,[r,n],function(){return a(t,r,n)})}function p(t,r,n,e){return l(t,[r,n,e],function(){return _(t,r,n,e)})}function v(t){for(var r,n={};"[]"!==t.ctor;){var e=t._0,o=e.key;if(o===dt||o===pt||o===st){var c=n[o]||{};c[e.realKey]=e.value,n[o]=c}else if(o===lt){for(var u=n[o]||{},i=e.value;"[]"!==i.ctor;){var a=i._0;u[a._0]=a._1,i=i._1}n[o]=u}else if("namespace"===o)r=e.value;else if("className"===o){var _=n[o];n[o]=void 0===_?e.value:_+" "+e.value}else n[o]=e.value;t=t._1}return{facts:n,namespace:r}}function m(t){return{key:lt,value:t}}function g(t,r){return{key:t,value:r}}function b(t,r){return{key:dt,realKey:t,value:r}}function y(t,r,n){return{key:pt,realKey:r,value:{value:n,namespace:t}}}function T(t,r,n){return{key:st,realKey:t,value:{options:r,decoder:n}}}function k(t,r){return(t.options===r.options||t.options.stopPropagation===r.options.stopPropagation&&t.options.preventDefault===r.options.preventDefault)&&xn.equality(t.decoder,r.decoder)}function w(t,r){return r.key!==st?r:T(r.realKey,r.value.options,a(Jn,t,r.value.decoder))}function S(t,r){switch(t.type){case"thunk":return t.node||(t.node=t.thunk()),S(t.node,r);case"tagger":for(var n=t.node,e=t.tagger;"tagger"===n.type;)"object"!=typeof e?e=[e,n.tagger]:e.push(n.tagger),n=n.node;var o={tagger:e,parent:r};return(i=S(n,o)).elm_event_node_ref=o,i;case"text":return vt.createTextNode(t.text);case"node":E(i=t.namespace?vt.createElementNS(t.namespace,t.tag):vt.createElement(t.tag),r,t.facts);for(var c=t.children,u=0;u<c.length;u++)i.appendChild(S(c[u],r));return i;case"keyed-node":E(i=t.namespace?vt.createElementNS(t.namespace,t.tag):vt.createElement(t.tag),r,t.facts);for(var c=t.children,u=0;u<c.length;u++)i.appendChild(S(c[u]._1,r));return i;case"custom":var i=t.impl.render(t.model);return E(i,r,t.facts),i}}function E(t,r,n){for(var e in n){var o=n[e];switch(e){case lt:R(t,o);break;case st:A(t,r,o);break;case dt:C(t,o);break;case pt:x(t,o);break;case"value":t[e]!==o&&(t[e]=o);break;default:t[e]=o}}}function R(t,r){var n=t.style;for(var e in r)n[e]=r[e]}function A(t,r,n){var e=t.elm_handlers||{};for(var o in n){var c=e[o],u=n[o];if(void 0===u)t.removeEventListener(o,c),e[o]=void 0;else if(void 0===c){c=N(r,u);t.addEventListener(o,c),e[o]=c}else c.info=u}t.elm_handlers=e}function N(t,r){function n(r){var e=n.info,o=a(xn.run,e.decoder,r);if("Ok"===o.ctor){var c=e.options;c.stopPropagation&&r.stopPropagation(),c.preventDefault&&r.preventDefault();for(var u=o._0,i=t;i;){var _=i.tagger;if("function"==typeof _)u=_(u);else for(var f=_.length;f--;)u=_[f](u);i=i.parent}}}return n.info=r,n}function C(t,r){for(var n in r){var e=r[n];void 0===e?t.removeAttribute(n):t.setAttribute(n,e)}}function x(t,r){for(var n in r){var e=r[n],o=e.namespace,c=e.value;void 0===c?t.removeAttributeNS(o,n):t.setAttributeNS(o,n,c)}}function B(t,r){var n=[];return O(t,r,n,0),n}function L(t,r,n){return{index:r,type:t,data:n,domNode:void 0,eventNode:void 0}}function O(t,r,n,e){if(t!==r){var o=t.type,c=r.type;if(o===c)switch(c){case"thunk":for(var u=t.args,i=r.args,a=u.length,_=t.func===r.func&&a===i.length;_&&a--;)_=u[a]===i[a];if(_)return void(r.node=t.node);r.node=r.thunk();var f=[];return O(t.node,r.node,f,0),void(f.length>0&&n.push(L("p-thunk",e,f)));case"tagger":for(var l=t.tagger,s=r.tagger,d=!1,p=t.node;"tagger"===p.type;)d=!0,"object"!=typeof l?l=[l,p.tagger]:l.push(p.tagger),p=p.node;for(var v=r.node;"tagger"===v.type;)d=!0,"object"!=typeof s?s=[s,v.tagger]:s.push(v.tagger),v=v.node;return d&&l.length!==s.length?void n.push(L("p-redraw",e,r)):((d?M(l,s):l===s)||n.push(L("p-tagger",e,s)),void O(p,v,n,e+1));case"text":if(t.text!==r.text)return void n.push(L("p-text",e,r.text));return;case"node":return t.tag!==r.tag||t.namespace!==r.namespace?void n.push(L("p-redraw",e,r)):(void 0!==(h=P(t.facts,r.facts))&&n.push(L("p-facts",e,h)),void I(t,r,n,e));case"keyed-node":return t.tag!==r.tag||t.namespace!==r.namespace?void n.push(L("p-redraw",e,r)):(void 0!==(h=P(t.facts,r.facts))&&n.push(L("p-facts",e,h)),void F(t,r,n,e));case"custom":if(t.impl!==r.impl)return void n.push(L("p-redraw",e,r));var h=P(t.facts,r.facts);void 0!==h&&n.push(L("p-facts",e,h));var m=r.impl.diff(t,r);if(m)return void n.push(L("p-custom",e,m));return}else n.push(L("p-redraw",e,r))}}function M(t,r){for(var n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}function P(t,r,n){var e;for(var o in t)if(o!==lt&&o!==st&&o!==dt&&o!==pt)if(o in r){var c=t[o],u=r[o];c===u&&"value"!==o||n===st&&k(c,u)||((e=e||{})[o]=u)}else(e=e||{})[o]=void 0===n?"string"==typeof t[o]?"":null:n===lt?"":n===st||n===dt?void 0:{namespace:t[o].namespace,value:void 0};else{var i=P(t[o],r[o]||{},o);i&&((e=e||{})[o]=i)}for(var a in r)a in t||((e=e||{})[a]=r[a]);return e}function I(t,r,n,e){var o=t.children,c=r.children,u=o.length,i=c.length;u>i?n.push(L("p-remove-last",e,u-i)):u<i&&n.push(L("p-append",e,c.slice(u)));for(var a=e,_=u<i?u:i,f=0;f<_;f++){a++;var l=o[f];O(l,c[f],n,a),a+=l.descendantsCount||0}}function F(t,r,n,e){for(var o=[],c={},u=[],i=t.children,a=r.children,_=i.length,f=a.length,l=0,s=0,d=e;l<_&&s<f;){var p=i[l],v=a[s],h=p._0,m=v._0,g=p._1,b=v._1;if(h!==m){var y=l+1<_,T=s+1<f;if(y)var k=i[l+1],w=k._0,S=k._1,E=m===w;if(T)var R=a[s+1],A=R._0,N=R._1,C=h===A;if(y&&T&&C&&E)O(g,N,o,++d),D(c,o,h,b,s,u),d+=g.descendantsCount||0,z(c,o,h,S,++d),d+=S.descendantsCount||0,l+=2,s+=2;else if(T&&C)d++,D(c,o,m,b,s,u),O(g,N,o,d),d+=g.descendantsCount||0,l+=1,s+=2;else if(y&&E)z(c,o,h,g,++d),d+=g.descendantsCount||0,O(S,b,o,++d),d+=S.descendantsCount||0,l+=2,s+=1;else{if(!y||!T||w!==A)break;z(c,o,h,g,++d),D(c,o,m,b,s,u),d+=g.descendantsCount||0,O(S,N,o,++d),d+=S.descendantsCount||0,l+=2,s+=2}}else O(g,b,o,++d),d+=g.descendantsCount||0,l++,s++}for(;l<_;){d++;g=(p=i[l])._1;z(c,o,p._0,g,d),d+=g.descendantsCount||0,l++}for(var x;s<f;)x=x||[],D(c,o,(v=a[s])._0,v._1,void 0,x),s++;(o.length>0||u.length>0||void 0!==x)&&n.push(L("p-reorder",e,{patches:o,inserts:u,endInserts:x}))}function D(t,r,n,e,o,c){var u=t[n];if(void 0===u)return u={tag:"insert",vnode:e,index:o,data:void 0},c.push({index:o,entry:u}),void(t[n]=u);if("remove"===u.tag){c.push({index:o,entry:u}),u.tag="move";var i=[];return O(u.vnode,e,i,u.index),u.index=o,void(u.data.data={patches:i,entry:u})}D(t,r,n+ht,e,o,c)}function z(t,r,n,e,o){var c=t[n];if(void 0===c){i=L("p-remove",o,void 0);return r.push(i),void(t[n]={tag:"remove",vnode:e,index:o,data:i})}if("insert"!==c.tag)z(t,r,n+ht,e,o);else{c.tag="move";var u=[];O(e,c.vnode,u,o);var i=L("p-remove",o,{patches:u,entry:c});r.push(i)}}function U(t,r,n,e){q(t,r,n,0,0,r.descendantsCount,e)}function q(t,r,n,e,o,c,u){for(var i=n[e],a=i.index;a===o;){var _=i.type;if("p-thunk"===_)U(t,r.node,i.data,u);else if("p-reorder"===_)i.domNode=t,i.eventNode=u,(l=i.data.patches).length>0&&q(t,r,l,0,o,c,u);else if("p-remove"===_){i.domNode=t,i.eventNode=u;var f=i.data;if(void 0!==f){f.entry.data=t;var l=f.patches;l.length>0&&q(t,r,l,0,o,c,u)}}else i.domNode=t,i.eventNode=u;if(e++,!(i=n[e])||(a=i.index)>c)return e}switch(r.type){case"tagger":for(var s=r.node;"tagger"===s.type;)s=s.node;return q(t,s,n,e,o+1,c,t.elm_event_node_ref);case"node":for(var d=r.children,p=t.childNodes,v=0;v<d.length;v++){m=++o+((h=d[v]).descendantsCount||0);if(o<=a&&a<=m&&(e=q(p[v],h,n,e,o,m,u),!(i=n[e])||(a=i.index)>c))return e;o=m}return e;case"keyed-node":for(var d=r.children,p=t.childNodes,v=0;v<d.length;v++){o++;var h=d[v]._1,m=o+(h.descendantsCount||0);if(o<=a&&a<=m&&(e=q(p[v],h,n,e,o,m,u),!(i=n[e])||(a=i.index)>c))return e;o=m}return e;case"text":case"thunk":throw new Error("should never traverse `text` or `thunk` nodes like this")}}function G(t,r,n,e){return 0===n.length?t:(U(t,r,n,e),J(t,n))}function J(t,r){for(var n=0;n<r.length;n++){var e=r[n],o=e.domNode,c=W(o,e);o===t&&(t=c)}return t}function W(t,r){switch(r.type){case"p-redraw":return V(t,r.data,r.eventNode);case"p-facts":return E(t,r.eventNode,r.data),t;case"p-text":return t.replaceData(0,t.length,r.data),t;case"p-thunk":return J(t,r.data);case"p-tagger":return void 0!==t.elm_event_node_ref?t.elm_event_node_ref.tagger=r.data:t.elm_event_node_ref={tagger:r.data,parent:r.eventNode},t;case"p-remove-last":for(e=r.data;e--;)t.removeChild(t.lastChild);return t;case"p-append":for(var n=r.data,e=0;e<n.length;e++)t.appendChild(S(n[e],r.eventNode));return t;case"p-remove":var o=r.data;if(void 0===o)return t.parentNode.removeChild(t),t;var c=o.entry;return void 0!==c.index&&t.parentNode.removeChild(t),c.data=J(t,o.patches),t;case"p-reorder":return H(t,r);case"p-custom":var u=r.data;return u.applyPatch(t,u.data);default:throw new Error("Ran into an unknown patch!")}}function V(t,r,n){var e=t.parentNode,o=S(r,n);return void 0===o.elm_event_node_ref&&(o.elm_event_node_ref=t.elm_event_node_ref),e&&o!==t&&e.replaceChild(o,t),o}function H(t,r){var n=r.data,e=Y(n.endInserts,r);t=J(t,n.patches);for(var o=n.inserts,c=0;c<o.length;c++){var u=o[c],i=u.entry,a="move"===i.tag?i.data:S(i.vnode,r.eventNode);t.insertBefore(a,t.childNodes[u.index])}return void 0!==e&&t.appendChild(e),t}function Y(t,r){if(void 0!==t){for(var n=vt.createDocumentFragment(),e=0;e<t.length;e++){var o=t[e].entry;n.appendChild("move"===o.tag?o.data:S(o.vnode,r.eventNode))}return n}}function j(r){return t(function(t,n){return function(e){return function(o,c,u){var i=r(e,c);void 0===u?Z(n,o,c,i):nt(a(t,u,n),o,c,i)}}})}function X(r){var n=h.Tuple2(h.Tuple0,Tt);return a(mt,yn,{init:n,view:function(){return r},update:t(function(){return n}),subscriptions:function(){return St}})()}function K(t,r){return function(t,n,e){if(void 0===n)return t;Q("The `"+r+"` module does not need flags.\nInitialize it with no arguments and you should be all set!",e)}}function $(t,r){return function(n,e,o){void 0===t&&Q(u="Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+r+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.",o);var c=a(xn.run,t,e);if("Ok"===c.ctor)return n(c._0);var u="Trying to initialize the `"+r+"` module with an unexpected flag.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+c._0;Q(u,o)}}function Q(t,r){throw r&&(r.innerHTML='<div style="padding-left:1em;"><h2 style="font-weight:normal;"><b>Oops!</b> Something went wrong when starting your Elm program.</h2><pre style="padding-left:1em;">'+t+"</pre></div>"),new Error(t)}function Z(t,r,n,e){r.embed=function(r,n){for(;r.lastChild;)r.removeChild(r.lastChild);return gt.initialize(e(t.init,n,r),t.update,t.subscriptions,tt(r,t.view))},r.fullscreen=function(r){return gt.initialize(e(t.init,r,document.body),t.update,t.subscriptions,tt(document.body,t.view))}}function tt(t,r){return function(n,e){var o={tagger:n,parent:void 0},c=r(e),u=S(c,o);return t.appendChild(u),rt(u,r,c,o)}}function rt(t,r,n,e){function o(){switch(u){case"NO_REQUEST":throw new Error("Unexpected draw callback.\nPlease report this to <https://github.com/elm-lang/virtual-dom/issues>.");case"PENDING_REQUEST":kt(o),u="EXTRA_REQUEST";var n=r(c),a=B(i,n);return t=G(t,i,a,e),void(i=n);case"EXTRA_REQUEST":return void(u="NO_REQUEST")}}var c,u="NO_REQUEST",i=n;return function(t){"NO_REQUEST"===u&&kt(o),u="PENDING_REQUEST",c=t}}function nt(t,r,n,e){r.fullscreen=function(r){var o={doc:void 0};return gt.initialize(e(t.init,r,document.body),t.update(et(o)),t.subscriptions,ot(n,document.body,o,t.view,t.viewIn,t.viewOut))},r.embed=function(r,o){var c={doc:void 0};return gt.initialize(e(t.init,o,r),t.update(et(c)),t.subscriptions,ot(n,r,c,t.view,t.viewIn,t.viewOut))}}function et(t){return bt.nativeBinding(function(r){var n=t.doc;if(n){var e=n.getElementsByClassName("debugger-sidebar-messages")[0];e&&(e.scrollTop=e.scrollHeight)}r(bt.succeed(h.Tuple0))})}function ot(t,r,n,e,o,c){return function(u,i){var a={tagger:u,parent:void 0},_={tagger:u,parent:void 0},f=e(i),l=S(f,a);r.appendChild(l);var s=rt(l,e,f,a),d=o(i)._1,p=S(d,_);r.appendChild(p);var v=rt(p,it(a,p,o),d,_),h=ct(i,c,_,r,t,n);return function(t){s(t),v(t),h(t)}}}function ct(t,r,n,e,o,c){var u,i;return function(t){if(t.isDebuggerOpen){if(!c.doc)return u=r(t),void(i=ut(o,c,u,n));vt=c.doc;var e=r(t),a=B(u,e);i=G(i,u,a,n),u=e,vt=document}}}function ut(t,r,n,e){function o(){r.doc=void 0,i.close()}var c=screen.width-900,u=screen.height-360,i=window.open("","","width=900,height=360,left="+c+",top="+u);vt=i.document,r.doc=vt,vt.title="Debugger - "+t,vt.body.style.margin="0",vt.body.style.padding="0";var a=S(n,e);return vt.body.appendChild(a),vt.addEventListener("keydown",function(t){t.metaKey&&82===t.which&&window.location.reload(),38===t.which&&(e.tagger({ctor:"Up"}),t.preventDefault()),40===t.which&&(e.tagger({ctor:"Down"}),t.preventDefault())}),window.addEventListener("unload",o),i.addEventListener("unload",function(){r.doc=void 0,window.removeEventListener("unload",o),e.tagger({ctor:"Close"})}),vt=document,a}function it(t,r,n){var e,o=ft(r),c="Normal",u=t.tagger,i=function(){};return function(r){var a=n(r),_=a._0.ctor;return t.tagger="Normal"===_?u:i,c!==_&&(at("removeEventListener",o,c),at("addEventListener",o,_),"Normal"===c&&(e=document.body.style.overflow,document.body.style.overflow="hidden"),"Normal"===_&&(document.body.style.overflow=e),c=_),a._1}}function at(t,r,n){switch(n){case"Normal":return;case"Pause":return _t(t,r,wt);case"Message":return _t(t,r,Et)}}function _t(t,r,n){for(var e=0;e<n.length;e++)document.body[t](n[e],r,!0)}function ft(t){return function(r){if("keydown"!==r.type||!r.metaKey||82!==r.which){for(var n="scroll"===r.type||"wheel"===r.type,e=r.target;null!==e;){if("elm-overlay-message-details"===e.className&&n)return;if(e===t&&!n)return;e=e.parentNode}r.stopPropagation(),r.preventDefault()}}}var lt="STYLE",st="EVENT",dt="ATTR",pt="ATTR_NS",vt="undefined"!=typeof document?document:{},ht="_elmW6BL",mt=j(K),yt=j($),kt="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,1e3/60)},wt=["click","dblclick","mousemove","mouseup","mousedown","mouseenter","mouseleave","touchstart","touchend","touchcancel","touchmove","pointerdown","pointerup","pointerover","pointerout","pointerenter","pointerleave","pointermove","pointercancel","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","keyup","keydown","keypress","input","change","focus","blur"],Et=wt.concat("wheel","scroll");return{node:o,text:e,custom:i,map:t(f),on:r(T),style:m,property:t(g),attribute:t(b),attributeNS:r(y),mapProperty:t(w),lazy:t(s),lazy2:r(d),lazy3:n(p),keyedNode:r(u),program:mt,programWithFlags:yt,staticProgram:X}}(),Zn=function(t){return a(Qn.programWithFlags,void 0,t)},te=function(t){return a(Qn.program,yn,t)},re=(Qn.keyedNode,Qn.lazy3,Qn.lazy2,Qn.lazy,{stopPropagation:!1,preventDefault:!1}),ne=Qn.on,ee=t(function(t,r){return _(ne,t,re,r)}),oe=Qn.style,ce=(Qn.mapProperty,Qn.attributeNS,Qn.attribute),ue=Qn.property,ie=Qn.map,ae=Qn.text,_e=Qn.node,fe=(t(function(t,r){return{stopPropagation:t,preventDefault:r}}),Zn),le=ie,se=ae,de=_e,pe=(de("body"),de("section"),de("nav"),de("article"),de("aside"),de("h1")),ve=de("h2"),he=(de("h3"),de("h4"),de("h5"),de("h6"),de("header"),de("footer"),de("address"),de("main"),de("p"),de("hr"),de("pre"),de("blockquote"),de("ol"),de("ul"),de("li"),de("dl"),de("dt"),de("dd"),de("figure"),de("figcaption"),de("div")),me=(de("a"),de("em"),de("strong"),de("small"),de("s"),de("cite"),de("q"),de("dfn"),de("abbr"),de("time"),de("code"),de("var"),de("samp"),de("kbd"),de("sub"),de("sup"),de("i"),de("b"),de("u"),de("mark"),de("ruby"),de("rt"),de("rp"),de("bdi"),de("bdo"),de("span"),de("br"),de("wbr"),de("ins"),de("del"),de("img")),ge=(de("iframe"),de("embed"),de("object"),de("param"),de("video"),de("audio"),de("source"),de("track"),de("canvas"),de("math"),de("table"),de("caption"),de("colgroup"),de("col"),de("tbody"),de("thead"),de("tfoot"),de("tr"),de("td"),de("th"),de("form"),de("fieldset"),de("legend"),de("label"),de("input")),be=de("button"),ye=(de("select"),de("datalist"),de("optgroup"),de("option"),de("textarea"),de("keygen"),de("output"),de("progress"),de("meter"),de("details"),de("summary"),de("menuitem"),de("menu"),t(function(t,r){return{ctor:"SampleCoverage",_0:t,_1:r}}),t(function(t,r){return{ctor:"PolygonOffset",_0:t,_1:r}}),n(function(t,r,n,e){return{ctor:"ColorMask",_0:t,_1:r,_2:n,_3:e}}),n(function(t,r,n,e){return{ctor:"Scissor",_0:t,_1:r,_2:n,_3:e}}),n(function(t,r,n,e){return{ctor:"DepthTest",_0:t,_1:r,_2:n,_3:e}})),Te=function(t){return{ctor:"FaceMode",_0:t}},ke=(Te(1028),Te(1029),Te(1032),function(t){var r=t;return f(ye,513,r.write,r.near,r.far)}({write:!0,near:0,far:1})),we=(r(function(t,r,n){return{write:t,near:r,far:n}}),r(function(t,r,n){return _(Cn.toHtml,t,r,n)})),Se=Cn.entity,Ee=(Se({ctor:"::",_0:ke,_1:{ctor:"[]"}}),Cn.unsafeCoerceGLSL,t(function(t,r){return{ctor:"IndexedTriangles",_0:t,_1:r}}),function(t){return{ctor:"Triangles",_0:t}}),Re=(n(function(t,r,n,e){return{ctor:"ClearColor",_0:t,_1:r,_2:n,_3:e}}),{ctor:"Antialias"}),Ae=function(t){return{ctor:"Depth",_0:t}},Ne=we({ctor:"::",_0:function(t){return{ctor:"Alpha",_0:t}}(!0),_1:{ctor:"::",_0:Re,_1:{ctor:"::",_0:Ae(1),_1:{ctor:"[]"}}}}),Ce=function(){function t(){return bt.nativeBinding(function(t){var r=requestAnimationFrame(function(){t(bt.succeed(Date.now()))});return function(){cancelAnimationFrame(r)}})}return{create:t}}(),xe=bt.kill,Be=bt.sleep,Le=bt.spawn,Oe=Ce.create({ctor:"_Tuple0"}),Me=gt.leaf("AnimationFrame"),Pe=r(function(t,r,n){return{subs:t,request:r,oldTime:n}}),Ie=Ft(_(Pe,{ctor:"[]"},N,0)),Fe=r(function(t,r,n){var e=n,o=e.request,c=e.oldTime,u={ctor:"_Tuple2",_0:o,_1:r};return"Nothing"===u._0.ctor?"[]"===u._1.ctor?Ft(_(Pe,{ctor:"[]"},N,c)):a(Mt,function(t){return a(Mt,function(n){return Ft(_(Pe,r,C(t),n))},zr)},Le(a(Mt,Et(t),Oe))):"[]"===u._1.ctor?a(Mt,function(t){return Ft(_(Pe,{ctor:"[]"},N,c))},xe(u._0._0)):Ft(_(Pe,r,o,c))}),De=r(function(t,r,n){var e=n,o=e.subs,c=r-e.oldTime,u=function(n){var e=n;return"Time"===e.ctor?a(Rt,t,e._0(r)):a(Rt,t,e._0(c))};return a(Mt,function(t){return a(Mt,function(n){return Ft(_(Pe,o,C(t),r))},Ut(a(J,u,o)))},Le(a(Mt,Et(t),Oe)))}),ze=function(t){return{ctor:"Diff",_0:t}},Ue=function(t){return Me(ze(t))},qe=function(t){return{ctor:"Time",_0:t}},Ge=t(function(t,r){var n=r;return"Time"===n.ctor?qe(function(r){return t(n._0(r))}):ze(function(r){return t(n._0(r))})});gt.effectManagers.AnimationFrame={pkg:"elm-lang/animation-frame",init:Ie,onEffects:Fe,onSelfMsg:De,tag:"sub",subMap:Ge};var Je=function(){function n(t){return function(r,n,e){return bt.nativeBinding(function(o){function c(t){var r=a(Fn,n,t);"Ok"===r.ctor&&bt.rawSpawn(e(r._0))}return t.addEventListener(r,c),function(){t.removeEventListener(r,c)}})}}function e(t,r){return bt.nativeBinding(function(n){b(function(){var e=document.getElementById(t);n(null!==e?bt.succeed(r(e)):bt.fail({ctor:"NotFound",_0:t}))})})}function o(t){return e(t,function(t){return t.focus(),h.Tuple0})}function c(t){return e(t,function(t){return t.blur(),h.Tuple0})}function u(t){return e(t,function(t){return t.scrollTop})}function i(t,r){return e(t,function(t){return t.scrollTop=r,h.Tuple0})}function _(t){return e(t,function(t){return t.scrollTop=t.scrollHeight,h.Tuple0})}function f(t){return e(t,function(t){return t.scrollLeft})}function l(t,r){return e(t,function(t){return t.scrollLeft=r,h.Tuple0})}function s(t){return e(t,function(t){return t.scrollLeft=t.scrollWidth,h.Tuple0})}function d(t,r){return e(r,function(r){switch(t.ctor){case"Content":return r.scrollWidth;case"VisibleContent":return r.clientWidth;case"VisibleContentWithBorders":return r.offsetWidth;case"VisibleContentWithBordersAndMargins":var n=r.getBoundingClientRect();return n.right-n.left}})}function p(t,r){return e(r,function(r){switch(t.ctor){case"Content":return r.scrollHeight;case"VisibleContent":return r.clientHeight;case"VisibleContentWithBorders":return r.offsetHeight;case"VisibleContentWithBordersAndMargins":var n=r.getBoundingClientRect();return n.bottom-n.top}})}var v={addEventListener:function(){},removeEventListener:function(){}},m=n("undefined"!=typeof document?document:v),g=n("undefined"!=typeof window?window:v),b="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){t()};return{onDocument:r(m),onWindow:r(g),focus:o,blur:c,getScrollTop:u,setScrollTop:t(i),getScrollLeft:f,setScrollLeft:t(l),toBottom:_,toRight:s,height:t(p),width:t(d)}}(),We=Je.onWindow,Ve=Je.onDocument,He=ce,Ye=function(t){return a(He,"height",y(t))},je=function(t){return a(He,"width",y(t))},Xe=ue,Ke=t(function(t,r){return a(Xe,t,Ln(r))}),$e=function(t){return a(Ke,"className",t)},Qe=function(t){return a(Ke,"id",t)},Ze=function(t){return a(Ke,"src",t)},to=function(t){return a(Ke,"type",t)},ro=function(t){return a(Ke,"value",t)},no=function(t){return a(Ke,"placeholder",t)},eo=t(function(t,r){return a(Xe,t,Bn(r))}),oo=function(t){return a(eo,"disabled",t)},co=function(t){return a(eo,"readOnly",t)},uo=oe,io=(a(Hn,"keyCode",Xn),a(Yn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"checked",_1:{ctor:"[]"}}},Kn),a(Yn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},$n)),ao=re,_o=ee,fo=(h.update(ao,{preventDefault:!0}),function(t){return a(_o,"input",a(Jn,t,io))}),lo=function(t){return a(_o,"mouseleave",In(t))},so=function(t){return a(_o,"mouseenter",In(t))},po=function(t){return a(_o,"click",In(t))},vo=(t(function(t,r){return{stopPropagation:t,preventDefault:r}}),r(function(t,r,n){var e=r,o=a(rr,e.category,n);return"Nothing"===o.ctor?Ft(n):a(Mt,function(t){return Ft(n)},Ut(a(J,function(r){return a(Rt,t,r(e.keyCode))},o._0.taggers)))})),ho=ho||{};ho["&>"]=t(function(t,r){return a(Mt,function(t){return r},t)});var mo=Ft(pr),go=t(function(t,r){var n=r;return C("Nothing"===n.ctor?{ctor:"::",_0:t,_1:{ctor:"[]"}}:{ctor:"::",_0:t,_1:n._0})}),bo=t(function(t,r){for(;;){var n=t;if("[]"===n.ctor)return r;t=n._1,r=_(xr,n._0._0,go(n._0._1),r)}}),yo=function(t){return a(bo,t,pr)},To=a(Hn,"keyCode",Xn),ko=gt.leaf("Keyboard"),wo=t(function(t,r){return{taggers:t,pid:r}}),So=t(function(t,r){return{category:t,keyCode:r}}),Eo=r(function(t,e,o){var c=r(function(r,n,e){return a(Mt,function(e){return a(Mt,function(t){return Ft(_(Br,r,a(wo,n,t),e))},Le(_(Ve,r,To,function(n){return a(Et,t,a(So,r,n))})))},e)}),u=n(function(t,r,n,e){return a(Dt,a(Br,t,a(wo,n,r.pid)),e)}),i=r(function(t,r,n){var e=r;return a(ho["&>"],xe(e.pid),n)});return s($t,i,u,c,o,yo(e),Ft(pr))}),Ro=t(function(t,r){return{ctor:"MySub",_0:t,_1:r}}),Ao=function(t){return ko(a(Ro,"keypress",t))},No=t(function(t,r){var n=r;return a(Ro,n._0,function(r){return t(n._1(r))})});gt.effectManagers.Keyboard={pkg:"elm-lang/keyboard",init:mo,onEffects:Eo,onSelfMsg:vo,tag:"sub",subMap:No};var Co=Co||{};Co["&>"]=t(function(t,r){return a(Mt,function(t){return r},t)});var xo=r(function(t,r,n){var e=r,o=a(rr,e.category,n);if("Nothing"===o.ctor)return Ft(n);var c=function(r){return a(Rt,t,r(e.position))};return a(Co["&>"],Ut(a(J,c,o._0.taggers)),Ft(n))}),Bo=Ft(pr),Lo=t(function(t,r){var n=r;return C("Nothing"===n.ctor?{ctor:"::",_0:t,_1:{ctor:"[]"}}:{ctor:"::",_0:t,_1:n._0})}),Oo=t(function(t,r){for(;;){var n=t;if("[]"===n.ctor)return r;t=n._1,r=_(xr,n._0._0,Lo(n._0._1),r)}}),Mo=function(t){return a(Oo,t,pr)},Po=gt.leaf("Mouse"),Io=t(function(t,r){return{x:t,y:r}}),Fo=_(Gn,Io,a(Hn,"pageX",Xn),a(Hn,"pageY",Xn)),Do=t(function(t,r){return{taggers:t,pid:r}}),zo=t(function(t,r){return{category:t,position:r}}),Uo=r(function(t,e,o){var c=r(function(r,n,e){var o=_(Ve,r,Fo,function(n){return a(Et,t,a(zo,r,n))});return a(Mt,function(t){return a(Mt,function(e){return Ft(_(Br,r,a(Do,n,e),t))},Le(o))},e)}),u=n(function(t,r,n,e){var o=r;return a(Mt,function(r){return Ft(_(Br,t,a(Do,n,o.pid),r))},e)}),i=r(function(t,r,n){var e=r;return a(Co["&>"],xe(e.pid),n)});return s($t,i,u,c,o,Mo(e),Ft(pr))}),qo=t(function(t,r){return{ctor:"MySub",_0:t,_1:r}}),Go=function(t){return Po(a(qo,"mousemove",t))},Jo=function(t){return Po(a(qo,"mouseup",t))},Wo=t(function(t,r){var n=r;return a(qo,n._0,function(r){return t(n._1(r))})});gt.effectManagers.Mouse={pkg:"elm-lang/mouse",init:Bo,onEffects:Uo,onSelfMsg:xo,tag:"sub",subMap:Wo};var Vo=function(){function n(t,r){return bt.nativeBinding(function(n){try{var e=new WebSocket(t);e.elm_web_socket=!0}catch(t){return n(bt.fail({ctor:"SecurityError"===t.name?"BadSecurity":"BadArgs",_0:t.message}))}return e.addEventListener("open",function(t){n(bt.succeed(e))}),e.addEventListener("message",function(t){bt.rawSpawn(a(r.onMessage,e,t.data))}),e.addEventListener("close",function(t){bt.rawSpawn(r.onClose({code:t.code,reason:t.reason,wasClean:t.wasClean}))}),function(){e&&e.close&&e.close()}})}function e(t,r){return bt.nativeBinding(function(n){var e=t.readyState===WebSocket.OPEN?N:C({ctor:"NotOpen"});try{t.send(r)}catch(t){e=C({ctor:"BadString"})}n(bt.succeed(e))})}function o(t,r,n){return bt.nativeBinding(function(e){try{n.close(t,r)}catch(t){return e(bt.fail(C({ctor:"SyntaxError"===t.name?"BadReason":"BadCode"})))}e(bt.succeed(N))})}function c(t){return bt.nativeBinding(function(r){r(bt.succeed(t.bufferedAmount))})}return{open:t(n),send:t(e),close:r(o),bytesQueued:c}}(),Ho=(Vo.bytesQueued,Vo.send),Yo=Vo.close,jo=function(t){return a(Dt,m({ctor:"_Tuple0"}),_(Yo,1e3,"",t))},Xo=Vo.open,Ko=(t(function(t,r){return{onMessage:t,onClose:r}}),function(t){var r=t;return"Opening"===r.ctor?xe(r._1):jo(r._0)}),$o=function(t){return h.cmp(t,1)<0?Ft({ctor:"_Tuple0"}):Be(T(10*Math.pow(2,t)))},Qo=t(function(t,r){return h.update(r,{queues:a(Mr,t,r.queues)})}),Zo=r(function(t,r,n){return h.update(n,{sockets:_(Br,t,r,n.sockets)})}),tc=t(function(t,r){var n=r;return C("Nothing"===n.ctor?{ctor:"::",_0:t,_1:{ctor:"[]"}}:{ctor:"::",_0:t,_1:n._0})}),rc=t(function(t,r){for(;;){var n=t;if("[]"===n.ctor)return r;"Listen"!==n._0.ctor?(t=n._1,r=_(xr,n._0._0,function(t){return C(a(A,{ctor:"[]"},t))},r)):(t=n._1,r=_(xr,n._0._0,tc(n._0._1),r))}}),nc=nc||{};nc["&>"]=t(function(t,r){return a(Mt,function(t){return r},t)});var ec=r(function(t,r,n){for(;;){var e=t;if("[]"===e.ctor)return Ft(n);var o=e._1,c=e._0._0,u=e._0._1,i=a(rr,c,r);if("Just"===i.ctor&&"Connected"===i._0.ctor)return a(nc["&>"],a(Ho,i._0._0,u),_(ec,o,r,n));t=o,r=r,n=_(xr,c,tc(u),n)}}),oc=gt.leaf("WebSocket"),cc=gt.leaf("WebSocket"),uc=r(function(t,r,n){return{sockets:t,queues:r,subs:n}}),ic=Ft(_(uc,pr,pr,pr)),ac=t(function(t,r){return{ctor:"Send",_0:t,_1:r}}),_c=t(function(t,r){return cc(a(ac,t,r))}),fc=t(function(t,r){var n=r;return a(ac,n._0,n._1)}),lc=function(t){return{ctor:"KeepAlive",_0:t}},sc=t(function(t,r){return{ctor:"Listen",_0:t,_1:r}}),dc=t(function(t,r){return oc(a(sc,t,r))}),pc=t(function(t,r){var n=r;return"Listen"===n.ctor?a(sc,n._0,function(r){return t(n._1(r))}):lc(n._0)}),vc=function(t){return{ctor:"Connected",_0:t}},hc=t(function(t,r){return{ctor:"Opening",_0:t,_1:r}}),mc=function(t){return{ctor:"BadOpen",_0:t}},gc=t(function(t,r){return{ctor:"GoodOpen",_0:t,_1:r}}),bc=function(t){return{ctor:"Die",_0:t}},yc=t(function(t,r){return{ctor:"Receive",_0:t,_1:r}}),Tc=t(function(r,n){return a(Xo,r,{onMessage:t(function(t,e){return a(Et,n,a(yc,r,e))}),onClose:function(t){return a(Et,n,bc(r))}})}),kc=r(function(t,r,n){var e=a(Ot,function(r){return a(Et,t,mc(n))},a(Mt,function(r){return a(Et,t,a(gc,n,r))},a(Tc,n,t)));return Le(a(nc["&>"],$o(r),e))}),wc=n(function(e,o,c,u){var i=a(rc,c,pr),f=function(o){var c=r(function(t,r,n){return a(nc["&>"],Ko(r),n)}),f=n(function(t,r,n,e){return a(Dt,a(Br,t,n),e)}),l=r(function(t,r,n){return a(Mt,function(r){return a(Mt,function(n){return Ft(_(Br,t,a(hc,0,n),r))},_(kc,e,0,t))},n)}),d=a(Lr,o,a(Rr,t(function(t,r){return{ctor:"[]"}}),i)),p=s($t,l,f,c,d,u.sockets,Ft(pr));return a(Mt,function(t){return Ft(_(uc,t,o,i))},p)},l=_(ec,o,u.sockets,u.queues);return a(Mt,f,l)}),Sc=r(function(r,n,e){var o=n;switch(o.ctor){case"Receive":var c=a(J,function(t){return a(Rt,r,t(o._1))},a(A,{ctor:"[]"},a(rr,o._0,e.subs)));return a(nc["&>"],Ut(c),Ft(e));case"Die":var u=o._0;return"Nothing"===a(rr,u,e.sockets).ctor?Ft(e):a(Mt,function(t){return Ft(_(Zo,u,a(hc,0,t),e))},_(kc,r,0,u));case"GoodOpen":var i=o._1,f=o._0,l=a(rr,f,e.queues);return"Nothing"===l.ctor?Ft(_(Zo,f,vc(i),e)):_(I,t(function(t,r){return a(nc["&>"],a(Ho,i,t),r)}),Ft(a(Qo,f,_(Zo,f,vc(i),e))),l._0);default:var s=o._0,d=a(rr,s,e.sockets);if("Nothing"===d.ctor)return Ft(e);if("Opening"===d._0.ctor){var p=d._0._0;return a(Mt,function(t){return Ft(_(Zo,s,a(hc,p+1,t),e))},_(kc,r,p+1,s))}return Ft(e)}});gt.effectManagers.WebSocket={pkg:"elm-lang/websocket",init:ic,onEffects:wc,onSelfMsg:Sc,tag:"fx",cmdMap:fc,subMap:pc};var Ec=function(){return{size:bt.nativeBinding(function(t){t(bt.succeed({width:window.innerWidth,height:window.innerHeight}))})}}(),Rc=Rc||{};Rc["&>"]=t(function(t,r){return a(Mt,function(t){return r},t)});var Ac=r(function(t,r,n){var e=n;if("Nothing"===e.ctor)return Ft(n);var o=function(n){return a(Rt,t,n._0(r))};return a(Rc["&>"],Ut(a(J,o,e._0.subs)),Ft(n))}),Nc=Ft(N),Cc=Ec.size,xc=(a(Dt,function(t){return t.width},Cc),a(Dt,function(t){return t.height},Cc),r(function(t,r,n){var e={ctor:"_Tuple2",_0:n,_1:r};return"Nothing"===e._0.ctor?"[]"===e._1.ctor?Ft(N):a(Mt,function(t){return Ft(C({subs:r,pid:t}))},Le(_(We,"resize",In({ctor:"_Tuple0"}),function(r){return a(Mt,Et(t),Cc)}))):"[]"===e._1.ctor?a(Rc["&>"],xe(e._0._0.pid),Ft(N)):Ft(C({subs:r,pid:e._0._0.pid}))})),Bc=gt.leaf("Window"),Lc=(t(function(t,r){return{width:t,height:r}}),function(t){return{ctor:"MySub",_0:t}}),Oc=function(t){return Bc(Lc(t))},Mc=t(function(t,r){var n=r;return Lc(function(r){return t(n._0(r))})});gt.effectManagers.Window={pkg:"elm-lang/window",init:Nc,onEffects:xc,onSelfMsg:Ac,tag:"sub",subMap:Mc};var Pc=gt.outgoingPort("queryParams",function(t){return t}),Ic=gt.outgoingPort("selectAllInput",function(t){return t}),Fc=gt.outgoingPort("copyInput",function(t){return t}),Dc=gt.outgoingPort("playAudio",function(t){return[t._0,t._1,t._2,t._3]}),zc=function(t){return{ctor:"Input",_0:t}},Uc={ctor:"Send"},qc=function(t){return{ctor:"New",_0:t}},Gc=t(function(t,r){return{start:t,current:r}}),Jc=function(t){return{ctor:"End",_0:t}},Wc=function(t){return{ctor:"At",_0:t}},Vc=function(t){return{ctor:"Start",_0:t}},Hc=n(function(t,r,n,e){return{name:t,desc:r,imgURL:n,sfxURL:e}}),Yc=r(function(t,r,n){return{name:t,imgURL:r,cards:n}}),jc=r(function(t,r,n){return{characters:t,selected:r,hover:n}}),Xc=function(t){return{ctor:"Select",_0:t}},Kc=function(t){return{ctor:"Hover",_0:t}},$c=function(t){return{ctor:"Sync",_0:t}},Qc=function(t){return{ctor:"SelectingMsg",_0:t}},Zc=function(t){return{ctor:"ResolveOutcome",_0:t}},tu=function(t){return{ctor:"HoverOutcome",_0:t}},ru=(n(function(t,r,n,e){return{input:t,messages:r,pos:n,drag:e}}),c(function(t,r,n,e,o,c,u){return{hand:t,otherHand:r,stack:n,turn:e,life:o,otherLife:c,otherHover:u}})),nu=t(function(t,r){return{owner:t,card:r}}),eu={ctor:"PlayerB"},ou={ctor:"PlayerA"},cu=r(function(t,r,n){return{ctor:"Ended",_0:t,_1:r,_2:n}}),uu=t(function(t,r){return{ctor:"PlayingGame",_0:t,_1:r}}),iu=function(t){return{ctor:"Selecting",_0:t}},au={ctor:"Waiting"},_u=(e(function(t,r,n,e,o){return{roomID:t,name:r,error:n,valid:e,gameType:o}}),{ctor:"ComputerGame"}),fu={ctor:"CustomGame"},lu=(e(function(t,r,n,e,o){return{room:t,hostname:r,httpPort:n,frameTime:e,windowDimensions:o}}),n(function(t,r,n,e){return{chat:t,game:r,mode:n,roomID:e}}),e(function(t,r,n,e,o){return{hostname:t,httpPort:r,play:n,seed:e,windowDimensions:o}}),function(t){return{ctor:"Connected",_0:t}}),su=function(t){return{ctor:"Connecting",_0:t}},du=function(t){return{ctor:"MainMenu",_0:t}},pu={ctor:"Playing"},vu={ctor:"Spectating"},hu=function(t){return{ctor:"JoinRoomErr",_0:t}},mu=function(t){return{ctor:"JoinRoom",_0:t}},gu=function(t){return{ctor:"NameInput",_0:t}},bu=function(t){return{ctor:"Start",_0:t}},yu=function(t){return{ctor:"PlayingOnly",_0:t}},Tu=function(t){return{ctor:"MenuMsg",_0:t}},ku=function(t){return{ctor:"LobbyMsg",_0:t}},wu=function(t){return{ctor:"GameStateMsg",_0:t}},Su=function(t){return{ctor:"DragMsg",_0:t}},Eu=function(t){return{ctor:"ChatMsg",_0:t}},Ru=function(t){return{ctor:"CopyInput",_0:t}},Au=function(t){return{ctor:"SelectAllInput",_0:t}},Nu=function(t){return{ctor:"HoverCard",_0:t}},Cu={ctor:"ResolveStep"},xu=t(function(t,r){return{ctor:"Resize",_0:t,_1:r}}),Bu=function(t){return{ctor:"Frame",_0:t}},Lu=function(t){return{ctor:"Tick",_0:t}},Ou={ctor:"Rematch"},Mu=function(t){return{ctor:"KeyPress",_0:t}},Pu=function(t){return{ctor:"StartGame",_0:t}},Iu=function(t){return{ctor:"PlayCard",_0:t}},Fu={ctor:"EndTurn"},Du=function(t){return{ctor:"Receive",_0:t}},zu=function(t){return{ctor:"Send",_0:t}},Uu=function(t){return{ctor:"Volume",_0:t}},qu={ctor:"Loop"},Gu={ctor:"Once"},Ju=t(function(t,r){var n=function(){var t=a(W,function(t){return"Volume"===t.ctor},r);return"::"===t.ctor&&"Volume"===t._0.ctor&&"[]"===t._1.ctor?t._0._0:1}(),e=a(z,qu,r),o=a(z,Gu,r);return Dc({ctor:"_Tuple4",_0:t,_1:o,_2:e,_3:n})}),Wu=function(t){return a(Ju,t,{ctor:"[]"})},Vu=l(Un,Hc,a(Hn,"name",$n),a(Hn,"desc",$n),a(Hn,"imageURL",$n),a(Hn,"sfxURL",$n)),Hu=function(t){var r=t;return a(he,{ctor:"::",_0:$e("card"),_1:{ctor:"[]"}},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("card-title"),_1:{ctor:"[]"}},{ctor:"::",_0:se(r.name),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(he,{ctor:"::",_0:$e("card-picture"),_1:{ctor:"::",_0:uo({ctor:"::",_0:{ctor:"_Tuple2",_0:"background-image",_1:a(b["++"],'url("img/',a(b["++"],r.imgURL,'")'))},_1:{ctor:"[]"}}),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:a(he,{ctor:"::",_0:$e("card-desc"),_1:{ctor:"[]"}},{ctor:"::",_0:se(r.desc),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}})},Yu=function(t){var r=U(t);return"Just"===r.ctor?r._0:{ctor:"[]"}},ju=function(t){var r=t;return"Just"===r.ctor?r._0:h.crashCase("Util",{start:{line:29,column:5},end:{line:34,column:50}},r)("error: fromJust Nothing")},Xu=function(t){return a(Ht,g,Ft(t))},Ku=function(t){return a(b["++"],y(t),"px")},$u=t(function(t,r){var n=t;return"Hover"===n.ctor?{ctor:"_Tuple2",_0:h.update(r,{hover:n._0}),_1:Tt}:{ctor:"_Tuple2",_0:r,_1:Xu(yu(zu(a(b["++"],"selectCharacter:",n._0.name))))}}),Qu=(t(function(t,r){return{time:t,resolution:r}}),t(function(t,r){return{ctor:"Params",_0:t,_1:r}})),Zu=function(){var t={position:_(At,-1,-1,0)},r={position:_(At,-1,1,0)},n={position:_(At,1,1,0)},e={position:_(At,1,-1,0)};return Ee({ctor:"::",_0:{ctor:"_Tuple3",_0:t,_1:e,_2:r},_1:{ctor:"::",_0:{ctor:"_Tuple3",_0:r,_1:e,_2:n},_1:{ctor:"[]"}}})}(),ti={src:"\n        precision mediump float;\n\n        uniform float time;\n        uniform vec2 resolution;\n\n        const float ITERATIONS = 16.0;\n        const float VIEW_DISTANCE = 8.0;\n        const float CLOUD_DENSITY = 0.65;\n        const float OCTAVES = 4.0;\n\n        const vec4 SKY_COLOR = vec4(0.012, 0.0178, 0.045, 1.0);\n        const vec4 CLOUD_COLOR = vec4(1.0, 1.0, 1.0, 0.8);\n\n        float hash(vec3 p)\n        {\n            p  = fract( p*0.3183099+.1 );\n        \tp *= 17.0;\n            return fract( p.x*p.y*p.z*(p.x+p.y+p.z) );\n        }\n\n        float noise( in vec3 x )\n        {\n            vec3 p = floor(x);\n            vec3 f = fract(x);\n            f = f*f*(3.0-2.0*f);\n\n            return mix(mix(mix( hash(p+vec3(0,0,0)),\n                                hash(p+vec3(1,0,0)),f.x),\n                           mix( hash(p+vec3(0,1,0)),\n                                hash(p+vec3(1,1,0)),f.x),f.y),\n                       mix(mix( hash(p+vec3(0,0,1)),\n                                hash(p+vec3(1,0,1)),f.x),\n                           mix( hash(p+vec3(0,1,1)),\n                                hash(p+vec3(1,1,1)),f.x),f.y),f.z);\n        }\n\n        float fbm(vec3 pos)\n        {\n            float f = 0.0;\n            for (float i = 0.0; i < OCTAVES; i++)\n            {\n                f += noise(pos) / pow(2.0, i + 1.0);\n                pos *= 2.01;\n            }\n            f /= 1.0 - 1.0 / pow(2.0, OCTAVES + 1.0);\n            return f;\n        }\n\n        void main ()\n        {\n          vec2 uv = gl_FragCoord.xy / resolution.xy;\n          uv = uv * 2.0 - 1.0;\n          uv.x *= resolution.x / resolution.y;\n\n          vec3 ray = normalize(vec3(uv, 1.0));\n          vec3 pos = vec3(0.0, 0.0, -1000.0-time*0.2);\n\n          float density = 0.1;\n\n          // Raymarching\n          for (float i = 0.0; i < ITERATIONS; i++)\n          {\n              float f = i / ITERATIONS;\n              float alpha = smoothstep(0.0, ITERATIONS * 0.1, i) * (1.0 - f) * (1.0 - f);\n\n              float denseClouds = smoothstep(CLOUD_DENSITY, 0.75, fbm(pos));\n              density += denseClouds * alpha;\n\n              pos += ray * f * VIEW_DISTANCE;\n          }\n\n          vec3 color = SKY_COLOR.rgb + (CLOUD_COLOR.rgb - 0.5) * (density / ITERATIONS) * 20.0 * CLOUD_COLOR.a;\n\n          gl_FragColor = vec4(color, 1.0);\n        }\n\n    "},ri={src:"\n        precision mediump float;\n\n        attribute vec3 position;\n\n        uniform float time;\n\n        void main () {\n            gl_Position = vec4(position, 1.0);\n        }\n\n    "},ni=t(function(t,r){var n=r;return{time:t,resolution:a(Ct,T(n._0),T(n._1))}}),ei=function(t){var r=t,n=r._1._0,e=r._1._1,o=r._0/1e3;return a(Ne,{ctor:"::",_0:je(n/5|0),_1:{ctor:"::",_0:Ye(e/5|0),_1:{ctor:"::",_0:uo({ctor:"::",_0:{ctor:"_Tuple2",_0:"position",_1:"absolute"},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"top",_1:"0"},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"z-index",_1:"-999"},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"width",_1:"100%"},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"height",_1:"100%"},_1:{ctor:"[]"}}}}}}),_1:{ctor:"[]"}}}},{ctor:"::",_0:l(Se,{ctor:"[]"},ri,ti,Zu,a(ni,o,{ctor:"_Tuple2",_0:n,_1:e})),_1:{ctor:"[]"}})},oi=t(function(t,r){var n=r,e=n.selected,o=function(t){var r=t,n=r;return a(he,{ctor:"::",_0:$e("character-button"),_1:{ctor:"::",_0:so(Kc(n)),_1:{ctor:"::",_0:po(Xc(n)),_1:{ctor:"::",_0:$e(a(z,n,e)?"invisible":""),_1:{ctor:"[]"}}}}},{ctor:"::",_0:a(me,{ctor:"::",_0:Ze(a(b["++"],"img/",r.imgURL)),_1:{ctor:"::",_0:$e("character-icon"),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:a(he,{ctor:"::",_0:$e("character-name"),_1:{ctor:"[]"}},{ctor:"::",_0:se(r.name),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})};return a(he,{ctor:"[]"},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("character-select"),_1:{ctor:"[]"}},{ctor:"::",_0:se("Choose your Gods"),_1:{ctor:"::",_0:a(he,{ctor:"::",_0:$e("characters"),_1:{ctor:"[]"}},a(J,o,n.characters)),_1:{ctor:"::",_0:function(t){var r=t;return a(he,{ctor:"::",_0:$e("card-preview"),_1:{ctor:"[]"}},a(J,Hu,{ctor:"::",_0:r._0,_1:{ctor:"::",_0:r._1,_1:{ctor:"::",_0:r._2,_1:{ctor:"::",_0:r._3,_1:{ctor:"[]"}}}}}))}(function(t){return t.cards}(n.hover)),_1:{ctor:"::",_0:function(t){var r=function(t){var r=t;return a(he,{ctor:"::",_0:$e("character-chosen"),_1:{ctor:"::",_0:so(Kc(r)),_1:{ctor:"[]"}}},{ctor:"::",_0:a(me,{ctor:"::",_0:Ze(a(b["++"],"img/",r.imgURL)),_1:{ctor:"::",_0:$e("character-icon"),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:a(he,{ctor:"::",_0:$e("character-name"),_1:{ctor:"[]"}},{ctor:"::",_0:se(r.name),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})};return a(he,{ctor:"[]"},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("characters-all-chosen"),_1:{ctor:"[]"}},a(J,r,t)),_1:{ctor:"::",_0:h.cmp(F(t),3)>-1?a(he,{ctor:"::",_0:$e("ready-up"),_1:{ctor:"[]"}},{ctor:"::",_0:se("Waiting for opponent"),_1:{ctor:"[]"}}):a(he,{ctor:"[]"},{ctor:"[]"}),_1:{ctor:"[]"}}})}(e),_1:{ctor:"[]"}}}}}),_1:{ctor:"::",_0:a(he,{ctor:"[]"},{ctor:"::",_0:ei(t),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}),ci=t(function(t,r){return h.update(r,{messages:{ctor:"::",_0:t,_1:r.messages}})}),ui=function(t){return h.update(t,{input:""})},ii=t(function(t,r){var n=r;switch(n.ctor){case"Input":return{ctor:"_Tuple2",_0:h.update(t,{input:n._0}),_1:Tt};case"New":return{ctor:"_Tuple2",_0:a(ci,n._0,t),_1:Tt};default:var e=t.input,o=function(){return""===e?Tt:Xu(zu(a(b["++"],"chat:",e)))}();return{ctor:"_Tuple2",_0:ui(t),_1:o}}}),ai={input:"",messages:{ctor:"[]"},pos:a(Io,0,0),drag:N},_i=t(function(t,r){return h.update(r,{drag:a(x,function(r){return a(Gc,r.start,t)},r.drag)})}),fi=t(function(t,r){return h.update(r,{drag:C(a(Gc,t,t))})}),li=function(t){var r=t,n=r.pos,e=r.drag;if("Nothing"===e.ctor)return n;var o=e._0.start,c=e._0.current;return{x:n.x+c.x-o.x,y:n.y+c.y-o.y}},si=function(t){return h.update(t,{pos:li(t),drag:N})},di=function(t){var r=t;switch(r.ctor){case"Start":return fi(r._0);case"At":return _i(r._0);default:return si}},pi=function(t){var r=li(t);return{ctor:"::",_0:a(_o,"mousedown",a(Jn,function(t){return Su(Vc(t))},Fo)),_1:{ctor:"::",_0:uo({ctor:"::",_0:{ctor:"_Tuple2",_0:"position",_1:"absolute"},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"top",_1:Ku(r.y)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"left",_1:Ku(r.x)},_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}}},vi=function(t){var r=function(t){return a(he,{ctor:"::",_0:$e("message"),_1:{ctor:"[]"}},{ctor:"::",_0:se(t),_1:{ctor:"[]"}})};return a(he,{ctor:"::",_0:$e("messages"),_1:{ctor:"[]"}},a(J,r,t))},hi=function(t){return a(he,a(b["++"],{ctor:"::",_0:$e("chat"),_1:{ctor:"[]"}},pi(t)),{ctor:"::",_0:a(he,{ctor:"::",_0:$e("chat-input"),_1:{ctor:"[]"}},{ctor:"::",_0:a(ge,{ctor:"::",_0:fo(function(t){return Eu(zc(t))}),_1:{ctor:"::",_0:ro(t.input),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:a(be,{ctor:"::",_0:po(Eu(Uc)),_1:{ctor:"[]"}},{ctor:"::",_0:se("send"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:vi(t.messages),_1:{ctor:"[]"}}})},mi=function(){return a(Mn,function(t){switch(t){case"pa":return In(ou);case"pb":return In(eu);default:return Pn(a(b["++"],"Invalid player ",t))}},$n)}(),gi=function(){var t=_(Gn,nu,a(Hn,"owner",mi),a(Hn,"card",Vu));return d(zn,o(function(t,r,n,e,o,c){return d(ru,t,r,n,e,o,c,N)}),a(Hn,"handPA",jn(Vu)),a(Hn,"handPB",Xn),a(Hn,"stack",jn(t)),a(Hn,"turn",mi),a(Hn,"lifePA",Xn),a(Hn,"lifePB",Xn))}(),bi=a(Jn,function(t){return a(uu,t,{ctor:"_Tuple2",_0:{ctor:"[]"},_1:0})},a(Hn,"playing",gi)),yi=a(Jn,function(t){return _(cu,t,N,{ctor:"_Tuple2",_0:{ctor:"[]"},_1:0})},a(Hn,"winner",function(t){return a(xn.decodeContainer,"maybe",t)}(mi))),Ti=function(r){var e=function(t){var n=r;return"Selecting"===n.ctor?n._0.hover:t},o=t(function(t,r){return iu(_(jc,t,r,e(ju(q(t)))))}),c=l(Un,n(function(t,r,n,e){return{ctor:"_Tuple4",_0:t,_1:r,_2:n,_3:e}}),a(Vn,0,Vu),a(Vn,1,Vu),a(Vn,2,Vu),a(Vn,3,Vu)),u=f(qn,Yc,a(Hn,"name",$n),a(Hn,"img_url",$n),a(Hn,"cards",c));return _(Gn,o,a(Hn,"selecting",jn(u)),a(Hn,"selected",jn(u)))},ki=a(Jn,function(t){return au},a(Hn,"waiting",Kn)),wi=function(t){return Wn({ctor:"::",_0:ki,_1:{ctor:"::",_0:Ti(t),_1:{ctor:"::",_0:bi,_1:{ctor:"::",_0:yi,_1:{ctor:"[]"}}}}})},Si=function(r){return _(Gn,t(function(t,r){return{ctor:"_Tuple2",_0:t,_1:r}}),a(Hn,"final",wi(r)),a(Hn,"list",jn(gi)))},Ei=t(function(t,r){var n=a(Dn,wi(r),t);return"Ok"===n.ctor?n._0:h.crashCase("GameState.Decoders",{start:{line:15,column:5},end:{line:20,column:28}},n)(n._0)}),Ri=function(t){var r=t;t:do{switch(r.ctor){case"PlayingGame":if("_Tuple2"===r._1.ctor&&0===r._1._1)return!0;break t;case"Ended":if("_Tuple2"===r._2.ctor&&0===r._2._1)return!0;break t;default:break t}}while(!1);return!1},Ai=function(t){var r=t;t:do{switch(r.ctor){case"PlayingGame":if("_Tuple2"===r._1.ctor)return a(uu,r._0,{ctor:"_Tuple2",_0:r._1._0,_1:r._1._1-1});break t;case"Ended":if("_Tuple2"===r._2.ctor)return _(cu,r._0,r._1,{ctor:"_Tuple2",_0:r._2._0,_1:r._2._1-1});break t;default:break t}}while(!1);return t},Ni=function(t){var r=t;t:do{switch(r.ctor){case"PlayingGame":if("_Tuple2"===r._1.ctor){var n=r._1._0,e=q(n);return"Just"===e.ctor?a(uu,e._0,{ctor:"_Tuple2",_0:Yu(n),_1:35}):a(uu,r._0,{ctor:"_Tuple2",_0:n,_1:0})}break t;case"Ended":if("Just"===r._1.ctor&&"_Tuple2"===r._2.ctor){var o=r._2._0;return _(cu,r._0,q(o),{ctor:"_Tuple2",_0:a(L,1,o),_1:35})}break t;default:break t}}while(!1);return t},Ci=t(function(t,r){return a(Ei,r,t)}),xi=t(function(t,r){var n=t;switch(n.ctor){case"PlayingGame":return a(uu,n._0,{ctor:"_Tuple2",_0:r,_1:n._1._1});case"Ended":return _(cu,n._0,n._1,{ctor:"_Tuple2",_0:r,_1:n._2._1});case"Waiting":return h.crashCase("GameState.State",{start:{line:80,column:5},end:{line:91,column:55}},n)("Set res on a waiting state");default:return h.crashCase("GameState.State",{start:{line:80,column:5},end:{line:91,column:55}},n)("Set res on a Selecting state")}}),Bi=t(function(t,r){var n=t;switch(n.ctor){case"Sync":return{ctor:"_Tuple2",_0:a(Ci,r,n._0),_1:Tt};case"HoverOutcome":var e=r;return"PlayingGame"===e.ctor?{ctor:"_Tuple2",_0:a(uu,h.update(e._0,{otherHover:n._0}),e._1),_1:Tt}:{ctor:"_Tuple2",_0:e,_1:Tt};case"ResolveOutcome":var o=function(){var t=a(Dn,Si(r),n._0);return"Ok"===t.ctor?t._0:h.crashCase("GameState.State",{start:{line:31,column:21},end:{line:36,column:44}},t)(t._0)}(),c=o._0,u=o._1;if("[]"===u.ctor)return{ctor:"_Tuple2",_0:a(xi,c,{ctor:"[]"}),_1:Tt};var i={ctor:"_Tuple2",_0:r,_1:c};t:do{if("_Tuple2"!==i.ctor||"PlayingGame"!==i._0.ctor)break t;switch(i._1.ctor){case"PlayingGame":return{ctor:"_Tuple2",_0:a(uu,i._0._0,{ctor:"_Tuple2",_0:a(b["++"],u,{ctor:"::",_0:i._1._0,_1:{ctor:"[]"}}),_1:0}),_1:Tt};case"Ended":return{ctor:"_Tuple2",_0:_(cu,i._1._0,C(i._0._0),{ctor:"_Tuple2",_0:u,_1:0}),_1:Tt};default:break t}}while(!1);return{ctor:"_Tuple2",_0:a(xi,c,u),_1:Tt};default:var f=function(){var t=r;return"Selecting"===t.ctor?t._0:h.crashCase("GameState.State",{start:{line:65,column:21},end:{line:70,column:69}},t)("Expected a selecting state")}(),l=a($u,n._0,f),s=l._0,d=l._1;return{ctor:"_Tuple2",_0:iu(s),_1:d}}}),Li=a(he,{ctor:"::",_0:$e("turn-indi"),_1:{ctor:"[]"}},{ctor:"::",_0:se("Resolving..."),_1:{ctor:"[]"}}),Oi=function(t){return a(he,{ctor:"::",_0:$e("hand my-hand"),_1:{ctor:"[]"}},a(J,Hu,t))},Mi=function(t){var r=function(t){var r=t,n=r.card;return"PlayerA"===r.owner.ctor?a(he,{ctor:"::",_0:$e("playera stack-card"),_1:{ctor:"[]"}},{ctor:"::",_0:Hu(n),_1:{ctor:"[]"}}):a(he,{ctor:"::",_0:$e("playerb stack-card"),_1:{ctor:"[]"}},{ctor:"::",_0:Hu(n),_1:{ctor:"[]"}})};return a(he,{ctor:"::",_0:$e("stack-container"),_1:{ctor:"[]"}},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("stack"),_1:{ctor:"[]"}},a(J,r,t)),_1:{ctor:"[]"}})},Pi=t(function(t,r){var n=function(){return"PlayerA"===t.ctor?"life-mine":""}();return a(he,{ctor:"::",_0:$e("life"),_1:{ctor:"::",_0:$e(n),_1:{ctor:"[]"}}},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("life-bar"),_1:{ctor:"[]"}},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("life-text"),_1:{ctor:"[]"}},{ctor:"::",_0:se(a(b["++"]," ",a(b["++"],y(r)," "))),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(he,{ctor:"::",_0:$e("life-health"),_1:{ctor:"::",_0:uo({ctor:"::",_0:{ctor:"_Tuple2",_0:"width",_1:function(t){return a(b["++"],y(T(t)/50*100),"%")}(r)},_1:{ctor:"[]"}}),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}})}),Ii=t(function(t,r){return"PlayerA"===r.ctor?!1===t?a(be,{ctor:"::",_0:$e("turn-indi pass-button"),_1:{ctor:"::",_0:po(Fu),_1:{ctor:"[]"}}},{ctor:"::",_0:se("Pass"),_1:{ctor:"[]"}}):a(be,{ctor:"::",_0:$e("turn-indi pass-button pass-disabled"),_1:{ctor:"[]"}},{ctor:"::",_0:se("Hand full"),_1:{ctor:"[]"}}):a(he,{ctor:"::",_0:$e("turn-indi enemy-turn"),_1:{ctor:"[]"}},{ctor:"::",_0:se("Opponent's Turn"),_1:{ctor:"[]"}})}),Fi=t(function(r,n){var e=function(t){return-12*E(t-(r/2|0))},o=function(t){return-2*(t-(r/2|0))},c=t(function(t,r){var n=r;return $e("Just"===n.ctor?h.eq(n._0,t)?"other-card-container card-hover":"other-card-container":"other-card-container")}),u=a(J,function(t){return a(he,{ctor:"::",_0:a(c,t,n),_1:{ctor:"[]"}},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("card other-card"),_1:{ctor:"::",_0:uo({ctor:"::",_0:{ctor:"_Tuple2",_0:"transform",_1:a(b["++"],"rotateZ(",a(b["++"],y(o(t)),a(b["++"],"deg) translateY(",a(b["++"],y(e(t)),"px)"))))},_1:{ctor:"[]"}}),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"[]"}})},a(tt,0,r-1));return a(he,{ctor:"::",_0:$e("hand other-hand"),_1:{ctor:"[]"}},u)}),Di=r(function(t,r,n){return a(he,{ctor:"[]"},{ctor:"::",_0:a(Fi,n.otherHand,n.otherHover),_1:{ctor:"::",_0:Oi(n.hand),_1:{ctor:"::",_0:Mi(n.stack),_1:{ctor:"::",_0:Li,_1:{ctor:"::",_0:a(Pi,ou,n.life),_1:{ctor:"::",_0:a(Pi,eu,n.otherLife),_1:{ctor:"[]"}}}}}}})}),zi=function(r){var n=function(t){var r=t,n=r._0;return a(he,{ctor:"::",_0:$e("card my-card"),_1:{ctor:"::",_0:po(Iu(n)),_1:{ctor:"::",_0:so(Nu(C(n))),_1:{ctor:"::",_0:lo(Nu(N)),_1:{ctor:"[]"}}}}},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("card-title"),_1:{ctor:"[]"}},{ctor:"::",_0:se(r._1.name),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(he,{ctor:"::",_0:$e("card-picture"),_1:{ctor:"::",_0:uo({ctor:"::",_0:{ctor:"_Tuple2",_0:"background-image",_1:a(b["++"],'url("img/',a(b["++"],r._1.imgURL,'")'))},_1:{ctor:"[]"}}),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:a(he,{ctor:"::",_0:$e("card-desc"),_1:{ctor:"[]"}},{ctor:"::",_0:se(r._1.desc),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}})};return a(he,{ctor:"::",_0:$e("hand my-hand"),_1:{ctor:"[]"}},a(J,n,a(rt,t(function(t,r){return{ctor:"_Tuple2",_0:t,_1:r}}),r)))},Ui=t(function(t,r){return a(he,{ctor:"[]"},{ctor:"::",_0:a(Fi,r.otherHand,r.otherHover),_1:{ctor:"::",_0:zi(r.hand),_1:{ctor:"::",_0:Mi(r.stack),_1:{ctor:"::",_0:a(Ii,h.eq(F(r.hand),6),r.turn),_1:{ctor:"::",_0:a(Pi,ou,r.life),_1:{ctor:"::",_0:a(Pi,eu,r.otherLife),_1:{ctor:"[]"}}}}}}})}),qi=o(function(t,r,n,e,o,c){var u=c,i=a(Qu,o,{ctor:"_Tuple2",_0:u._0,_1:u._1}),f=t;switch(f.ctor){case"Waiting":var l="challenge-link",s=h.eq(e,"")?"":a(b["++"],":",e),d=a(b["++"],"http://",a(b["++"],n,a(b["++"],s,a(b["++"],"?play=",r))));return a(he,{ctor:"[]"},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("waiting"),_1:{ctor:"[]"}},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("waiting-prompt"),_1:{ctor:"[]"}},{ctor:"::",_0:se("Give this link to your opponent:"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(he,{ctor:"::",_0:$e("input-group"),_1:{ctor:"[]"}},{ctor:"::",_0:a(ge,{ctor:"::",_0:ro(d),_1:{ctor:"::",_0:to("text"),_1:{ctor:"::",_0:co(!0),_1:{ctor:"::",_0:Qe(l),_1:{ctor:"::",_0:po(Au(l)),_1:{ctor:"[]"}}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:a(be,{ctor:"::",_0:po(Ru(l)),_1:{ctor:"[]"}},{ctor:"::",_0:se("copy"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:a(he,{ctor:"[]"},{ctor:"::",_0:ei(i),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}});case"Selecting":return a(le,function(t){return wu(Qc(t))},a(oi,i,f._0));case"PlayingGame":var p=f._1._1,v=f._1._0,m=f._0;return a(he,{ctor:"[]"},{ctor:"::",_0:function(){return"[]"===v.ctor?a(Ui,p,m):_(Di,v,p,m)}(),_1:{ctor:"::",_0:a(he,{ctor:"[]"},{ctor:"::",_0:ei(i),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}});default:var g=f._1;return"Just"===g.ctor?a(he,{ctor:"[]"},{ctor:"::",_0:_(Di,f._2._0,f._2._1,g._0),_1:{ctor:"::",_0:a(he,{ctor:"[]"},{ctor:"::",_0:ei(i),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}):a(he,{ctor:"[]"},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("endgame"),_1:{ctor:"[]"}},function(){var t=f._0;return"Nothing"===t.ctor?{ctor:"::",_0:a(he,{ctor:"::",_0:$e("draw"),_1:{ctor:"[]"}},{ctor:"::",_0:se("DRAW"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(be,{ctor:"::",_0:$e("rematch"),_1:{ctor:"::",_0:po(Ou),_1:{ctor:"[]"}}},{ctor:"::",_0:se("Rematch"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}:{ctor:"::",_0:h.eq(t._0,ou)?a(he,{ctor:"::",_0:$e("victory"),_1:{ctor:"[]"}},{ctor:"::",_0:se("VICTORY"),_1:{ctor:"[]"}}):a(he,{ctor:"::",_0:$e("defeat"),_1:{ctor:"[]"}},{ctor:"::",_0:se("DEFEAT"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(be,{ctor:"::",_0:$e("rematch"),_1:{ctor:"::",_0:po(Ou),_1:{ctor:"[]"}}},{ctor:"::",_0:se("Rematch"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}()),_1:{ctor:"::",_0:a(he,{ctor:"[]"},{ctor:"::",_0:ei(i),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}}),Gi=t(function(r,n){var e=t(function(t,r){if(Ri(t)){var n=.5+.1*T(F(r.stack)),e=function(){var t=q(r.stack);return"Nothing"===t.ctor?"":t._0.card.sfxURL}();return a(Ju,a(b["++"],"sfx/",e),{ctor:"::",_0:Uu(n),_1:{ctor:"[]"}})}return Tt}),o=n;t:do{switch(o.ctor){case"PlayingGame":return"_Tuple2"===o._1.ctor&&"[]"===o._1._0.ctor?a(Ju,"music/background.mp3",{ctor:"::",_0:qu,_1:{ctor:"::",_0:Gu,_1:{ctor:"[]"}}}):a(e,n,o._0);case"Ended":if("Just"===o._1.ctor)return a(e,n,o._1._0);break t;default:break t}}while(!1);return Tt}),Ji=function(t){return h.cmp(dt(t),20)>0?{ctor:"_Tuple2",_0:!1,_1:"username too long"}:vt(t)?{ctor:"_Tuple2",_0:!1,_1:""}:{ctor:"_Tuple2",_0:!0,_1:""}},Wi=function(t){return Xu(a(lt,"acceptPlay:",t)?Pu(pu):a(lt,"acceptSpec:",t)?Pu(vu):a(lt,"error:",t)?ku(hu(a(st,dt("error:"),t))):Du(t))},Vi=t(function(t,r){var n=t,e=n,o=r;switch(o.ctor){case"NameInput":var c=o._0,u=Ji(c),i=u._0,_=u._1;return{ctor:"_Tuple2",_0:h.update(e,{name:c,error:_,valid:i}),_1:Tt};case"JoinRoom":var f=function(){return"Playing"===o._0.ctor?"CustomGame"===n.gameType.ctor?"play:":"playComputer:":"spectate:"}();return{ctor:"_Tuple2",_0:e,_1:yt({ctor:"::",_0:Xu(zu(a(b["++"],f,n.name))),_1:{ctor:"::",_0:Xu(zu(a(b["++"],"room:",e.roomID))),_1:{ctor:"[]"}}})};default:return{ctor:"_Tuple2",_0:h.update(e,{error:o._0}),_1:Tt}}}),Hi=r(function(t,r,n){return{roomID:r,name:t,error:"",valid:!0,gameType:n}}),Yi=t(function(t,r){var n=r,e=n.valid,o=function(){return"CustomGame"===n.gameType.ctor?"Custom":"Computer"}();return a(he,{ctor:"[]"},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("connecting-box"),_1:{ctor:"[]"}},{ctor:"::",_0:a(pe,{ctor:"[]"},{ctor:"::",_0:se(a(b["++"],o," Game")),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(he,{ctor:"[]"},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("input-group"),_1:{ctor:"[]"}},{ctor:"::",_0:a(ge,{ctor:"::",_0:fo(function(t){return ku(gu(t))}),_1:{ctor:"::",_0:no("username"),_1:{ctor:"::",_0:ro(n.name),_1:{ctor:"::",_0:Qe("playername-input"),_1:{ctor:"::",_0:po(Au("playername-input")),_1:{ctor:"[]"}}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:a(be,{ctor:"::",_0:po(ku(mu(pu))),_1:{ctor:"::",_0:oo(!e),_1:{ctor:"[]"}}},{ctor:"::",_0:se("Play"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(be,{ctor:"::",_0:po(ku(mu(vu))),_1:{ctor:"::",_0:oo(!e),_1:{ctor:"[]"}}},{ctor:"::",_0:se("Spec"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}),_1:{ctor:"::",_0:a(he,{ctor:"::",_0:$e("error"),_1:{ctor:"[]"}},{ctor:"::",_0:se(n.error),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:a(he,{ctor:"[]"},{ctor:"::",_0:ei(t),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}),ji=function(t){return wt({ctor:"::",_0:a(dc,a(b["++"],"ws://",a(b["++"],t.hostname,":9160")),Du),_1:{ctor:"::",_0:Go(function(t){return Su(Wc(t))}),_1:{ctor:"::",_0:Jo(function(t){return Su(Jc(t))}),_1:{ctor:"::",_0:Ao(Mu),_1:{ctor:"::",_0:a(Hr,1e3/60,Lu),_1:{ctor:"::",_0:Ue(Bu),_1:{ctor:"::",_0:Oc(function(t){var r=t;return a(xu,r.width,r.height)}),_1:{ctor:"[]"}}}}}}}})},Xi=a(Nn,3,a(En,48,57)),Ki=a(Nn,8,An),$i=t(function(t,r){var n=t;if("Spectating"===n.mode.ctor)return Tt;var e=n.game;return"PlayingGame"===e.ctor&&"PlayerA"===e._0.turn.ctor?r:Tt}),Qi=t(function(t,r){return"Spectating"===t.mode.ctor?Tt:r}),Zi=function(t){return _c(a(b["++"],"ws://",a(b["++"],t,":9160")))},ta=function(t){if("null"===t)return N;var r=ft(t);return"Ok"===r.ctor?C(r._0):h.crashCase("Main.State",{start:{line:309,column:13},end:{line:314,column:36}},r)(r._0)},ra=t(function(t,r){return a(lt,"chat:",r)?{ctor:"_Tuple2",_0:t,_1:Xu(Eu(qc(a(st,dt("chat:"),r))))}:a(lt,"sync:",r)?{ctor:"_Tuple2",_0:t,_1:Xu(wu($c(a(st,dt("sync:"),r))))}:a(lt,"hover:",r)?{ctor:"_Tuple2",_0:t,_1:yt({ctor:"::",_0:Xu(wu(tu(ta(a(st,dt("hover:"),r))))),_1:{ctor:"::",_0:Wu("sfx/hover.wav"),_1:{ctor:"[]"}}})}:a(lt,"res:",r)?{ctor:"_Tuple2",_0:t,_1:Xu(wu(Zc(a(st,dt("res:"),r))))}:a(lt,"playCard:",r)?{ctor:"_Tuple2",_0:t,_1:Wu("sfx/playCard.wav")}:a(lt,"end:",r)?{ctor:"_Tuple2",_0:t,_1:Wu("sfx/endTurn.wav")}:h.crash("Main.State",{start:{line:299,column:9},end:{line:299,column:20}})(a(b["++"],"Error decoding message from server: ",r))}),na=r(function(t,r,n){var e=n,o=e,c=e.game,u=e.chat,i=r;switch(i.ctor){case"Receive":return a(ra,o,i._0);case"DragMsg":return{ctor:"_Tuple2",_0:h.update(o,{chat:a(di,i._0,u)}),_1:Tt};case"DrawCard":return{ctor:"_Tuple2",_0:o,_1:a($i,o,a(Zi,t,"draw:"))};case"EndTurn":return{ctor:"_Tuple2",_0:o,_1:a($i,o,yt({ctor:"::",_0:a(Zi,t,"end:"),_1:{ctor:"::",_0:Wu("sfx/endTurn.wav"),_1:{ctor:"[]"}}}))};case"PlayCard":return{ctor:"_Tuple2",_0:o,_1:a($i,o,yt({ctor:"::",_0:a(Zi,t,a(b["++"],"play:",y(i._0))),_1:{ctor:"::",_0:Wu("sfx/playCard.wav"),_1:{ctor:"[]"}}}))};case"ChatMsg":var _=a(ii,u,i._0),f=_._0,l=_._1;return{ctor:"_Tuple2",_0:h.update(o,{chat:f}),_1:l};case"GameStateMsg":var s=a(Bi,i._0,c),d=s._0,l=s._1;return{ctor:"_Tuple2",_0:h.update(o,{game:d}),_1:l};case"KeyPress":if(13===i._0){var p=a(ii,o.chat,Uc),v=p._0,l=p._1;return{ctor:"_Tuple2",_0:h.update(o,{chat:v}),_1:l}}return{ctor:"_Tuple2",_0:o,_1:Tt};case"Tick":var m=Ri(o.game)?{ctor:"::",_0:Xu(Cu),_1:{ctor:"[]"}}:{ctor:"[]"},g=Ai(c),T={ctor:"::",_0:a(Gi,i._0,g),_1:{ctor:"[]"}},k=a(b["++"],m,T);return{ctor:"_Tuple2",_0:h.update(o,{game:g}),_1:yt(k)};case"ResolveStep":return{ctor:"_Tuple2",_0:h.update(o,{game:Ni(c)}),_1:Tt};case"Rematch":return"Ended"===o.game.ctor?{ctor:"_Tuple2",_0:o,_1:a(Qi,o,a(Zi,t,"rematch:"))}:{ctor:"_Tuple2",_0:o,_1:Tt};case"HoverCard":var w=i._0,S=function(){var t=w;return"Just"===t.ctor?y(t._0):"null"}();return{ctor:"_Tuple2",_0:o,_1:yt({ctor:"::",_0:a(Qi,o,Xu(zu(a(b["++"],"hover:",S)))),_1:{ctor:"::",_0:function(){return"Nothing"===w.ctor?Tt:Wu("sfx/hover.wav")}(),_1:{ctor:"[]"}}})};case"PlayingOnly":return{ctor:"_Tuple2",_0:o,_1:a(Qi,o,Xu(i._0))};default:return h.crashCase("Main.State",{start:{line:145,column:5},end:{line:257,column:64}},i)("Unexpected action while connected ;_;")}}),ea=r(function(t,r,n){var e=r;switch(e.ctor){case"LobbyMsg":return a(Vi,n,e._0);case"Receive":return{ctor:"_Tuple2",_0:n,_1:Wi(e._0)};default:return{ctor:"_Tuple2",_0:n,_1:Tt}}}),oa=function(t){var r=t,n=r.seed;return{room:function(){var t=r.play;if("Just"===t.ctor){var e=a(b["++"],"player",mt(a(Kr,Xi,hn(n))));return su(_(Hi,e,t._0,fu))}return du(n)}(),hostname:r.hostname,httpPort:r.httpPort,frameTime:0,windowDimensions:r.windowDimensions}},ca=function(t){return a(he,{ctor:"[]"},{ctor:"::",_0:a(he,{ctor:"::",_0:$e("main-menu"),_1:{ctor:"[]"}},{ctor:"::",_0:a(pe,{ctor:"[]"},{ctor:"::",_0:se("HUBRIS"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(ve,{ctor:"[]"},{ctor:"::",_0:se("A card game of risk & reward"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(he,{ctor:"::",_0:$e("main-menu-buttons"),_1:{ctor:"[]"}},{ctor:"::",_0:a(be,{ctor:"::",_0:$e("menu-button"),_1:{ctor:"::",_0:oo(!0),_1:{ctor:"[]"}}},{ctor:"::",_0:se("Quickplay"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(be,{ctor:"::",_0:$e("menu-button"),_1:{ctor:"::",_0:po(bu(fu)),_1:{ctor:"[]"}}},{ctor:"::",_0:se("Custom"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:a(be,{ctor:"::",_0:$e("menu-button"),_1:{ctor:"::",_0:po(bu(_u)),_1:{ctor:"[]"}}},{ctor:"::",_0:se("Computer"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}}}),_1:{ctor:"::",_0:a(he,{ctor:"[]"},{ctor:"::",_0:ei(t),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},ua=fe({init:function(t){return{ctor:"_Tuple2",_0:oa(t),_1:Tt}},view:function(t){var r=t,n=r.windowDimensions,e=r.frameTime,o=a(Qu,e,n),c=r.room;switch(c.ctor){case"MainMenu":return a(le,Tu,ca(o));case"Connecting":return a(Yi,o,c._0);default:return a(he,{ctor:"[]"},{ctor:"::",_0:hi(c._0.chat),_1:{ctor:"::",_0:s(qi,c._0.game,c._0.roomID,r.hostname,r.httpPort,e,n),_1:{ctor:"[]"}}})}},update:t(function(t,r){var n=r,e=n,o=n.hostname,c=t;switch(c.ctor){case"Frame":return{ctor:"_Tuple2",_0:h.update(e,{frameTime:n.frameTime+c._0}),_1:Tt};case"Resize":return{ctor:"_Tuple2",_0:h.update(e,{windowDimensions:{ctor:"_Tuple2",_0:c._0,_1:c._1}}),_1:Tt};case"SelectAllInput":return{ctor:"_Tuple2",_0:e,_1:Ic(c._0)};case"CopyInput":return{ctor:"_Tuple2",_0:e,_1:Fc(c._0)};case"Send":return{ctor:"_Tuple2",_0:e,_1:a(Zi,o,c._0)};default:var u=n.room;switch(u.ctor){case"MainMenu":var i=function(t){return mt(a(Kr,t,hn(u._0)))},f=a(b["++"],"player",i(Xi)),l=i(Ki),s=t;return"MenuMsg"===s.ctor?{ctor:"_Tuple2",_0:h.update(e,{room:su(_(Hi,f,l,s._0._0))}),_1:Tt}:{ctor:"_Tuple2",_0:e,_1:Tt};case"Connecting":var d=u._0.roomID,p=t;if("StartGame"===p.ctor)return{ctor:"_Tuple2",_0:h.update(e,{room:lu({chat:ai,game:au,mode:p._0,roomID:d})}),_1:Pc(a(b["++"],"?play=",d))};var v=_(ea,o,t,u._0),m=v._0,g=v._1;return{ctor:"_Tuple2",_0:h.update(e,{room:su(m)}),_1:g};default:var y=_(na,o,t,u._0),m=y._0,g=y._1;return{ctor:"_Tuple2",_0:h.update(e,{room:lu(m)}),_1:g}}}}),subscriptions:ji})(a(Mn,function(t){return a(Mn,function(r){return a(Mn,function(n){return a(Mn,function(e){return a(Mn,function(o){return In({hostname:t,httpPort:r,play:n,seed:e,windowDimensions:o})},a(Hn,"windowDimensions",a(Mn,function(t){return a(Mn,function(r){return In({ctor:"_Tuple2",_0:t,_1:r})},a(Vn,1,Xn))},a(Vn,0,Xn))))},a(Hn,"seed",Xn))},a(Hn,"play",Wn({ctor:"::",_0:On(N),_1:{ctor:"::",_0:a(Jn,C,$n),_1:{ctor:"[]"}}})))},a(Hn,"httpPort",$n))},a(Hn,"hostname",$n))),ia={};if(ia.Main=ia.Main||{},void 0!==ua&&ua(ia.Main,"Main",void 0),"function"==typeof define&&define.amd)define([],function(){return ia});else if("object"!=typeof module){var aa=this.Elm;if(void 0!==aa)for(var _a in ia){if(_a in aa)throw new Error("There are two Elm modules called `"+_a+"` on this page! Rename one of them.");aa[_a]=ia[_a]}else this.Elm=ia}else module.exports=ia}).call(this);